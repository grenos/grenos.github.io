function fixupMouse(e){return{event:e=e||window.event,target:e.target?e.target:e.srcElement,which:e.which?e.which:1===e.button?1:2===e.button?3:4===e.button?2:1,x:e.x?e.x:e.clientX,y:e.y?e.y:e.clientY}}const movie=new Movie,ui=new UI;var player;function loadYTplayer(){player=new YT.Player("trailer-player")}function slickReady(){$(".print-slick").slick({infinite:!0,slidesToShow:7,slidesToScroll:7,arrows:!0,dragable:!0,responsive:[{breakpoint:1921,settings:{slidesToShow:10,slidesToScroll:10}},{breakpoint:1621,settings:{slidesToShow:8,slidesToScroll:8}},{breakpoint:1376,settings:{slidesToShow:7,slidesToScroll:7}},{breakpoint:1025,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:769,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:580,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:321,settings:{slidesToShow:1,slidesToScroll:1}}]})}function popupReady(){$(".popup-pic").magnificPopup({type:"image",showCloseBtn:!1,gallery:{enabled:!0}})}function getMovies(e){movie.topMovies(e).then(e=>{ui.printMovies(e)}).catch(e=>console.log(e))}function getSeries(e){movie.topSeries(e).then(e=>{ui.printSeries(e)}).catch(e=>console.log(e))}function openModal(e){var t=fixupMouse(e);if("movie"===t.target.dataset.id){const e=t.target.id;movie.searchMovieId(e).then(e=>{ui.printModalMovie(e),ui.printSimilarMovies(e),slickReady()}).catch(e=>console.log(e))}else if("serie"===t.target.dataset.id){const e=t.target.id;movie.searchSerieId(e).then(e=>{ui.printModalSerie(e),ui.printSimilarSeries(e),slickReady()}).catch(e=>console.log(e))}}function printActor(e){const t=fixupMouse(e).target.dataset.actor;movie.getActors(t).then(e=>{ui.printActor(e),popupReady()}).catch(e=>console.log(e))}function expand(){const e=document.querySelector(".bio");"50px"==window.getComputedStyle(e).getPropertyValue("max-height")?(e.style.maxHeight="300px",document.querySelector(".expand-btn").innerHTML="Close"):(e.style.maxHeight="50px",document.querySelector(".expand-btn").innerHTML="Open")}function printSimilar(e){var t=fixupMouse(e);if("movie"===t.target.dataset.id){const e=t.target.id;movie.searchMovieId(e).then(e=>{ui.printModalMovie(e),ui.printSimilarMovies(e),slickReady()}).catch(e=>console.log(e))}else if("serie"===t.target.dataset.id){const e=t.target.id;movie.searchSerieId(e).then(e=>{ui.printModalSerie(e),ui.printSimilarSeries(e),slickReady()}).catch(e=>console.log(e))}}function closeModal(){ui.clearModal()}function openVideo(){document.querySelector(".myModal").style.overflow="hidden",document.querySelector(".video-container").style.display="block",player.playVideo()}document.addEventListener("DOMContentLoaded",getMovies),document.getElementById("movies").addEventListener("click",()=>{document.querySelector(".grid").innerHTML="",getMovies(),ui.clearInput()}),document.getElementById("series").addEventListener("click",()=>{document.querySelector(".grid").innerHTML="",getSeries(),ui.clearInput()}),document.querySelector(".MyNav").addEventListener("click",e=>{moviesPage=1,seriesPage=1,ui.activeLink(e)}),document.querySelector(".grid").addEventListener("click",openModal),document.getElementById("inlineFormInputGroup").addEventListener("keyup",e=>{const t=document.getElementById("inlineFormInputGroup").value;t.length>=3&&movie.searchCatalogue(t).then(e=>{ui.printSearchCat(e),e.searchMovieCatalogueInfo.results<1&&e.searchSeriesCatalogueInfo.results<1&&ui.noMovieFound()}).catch(e=>{console.log(e)}),t.length<1&&(getMovies(),moviesPage=1,seriesPage=1,document.getElementById("series").classList.remove("active-link"),document.getElementById("movies").classList.add("active-link"),document.querySelector(".grid").innerHTML=""),e.preventDefault()});let moviesPage=1,seriesPage=1;function loadMore(e){const t=document.getElementById("inlineFormInputGroup").value;window.innerHeight+window.scrollY>=document.body.offsetHeight&&(document.querySelector("#movies.active-link")&&!t?getMovies(++moviesPage):document.querySelector("#series.active-link")&&!t?getSeries(++seriesPage):t&&console.log("No more Suggestions."))}window.addEventListener("scroll",loadMore);class Movie{constructor(e){this.apikey="fdde855cd4b047fb1a0ea24a7ec58362"}async topMovies(e){const t=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${this.apikey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=${e}`);return await t.json()}async topSeries(e){const t=await fetch(`https://api.themoviedb.org/3/discover/tv?api_key=${this.apikey}&language=en-US&sort_by=popularity.desc&page=${e}`);return await t.json()}async searchCatalogue(e){const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apikey}&language=en-US&sort_by=popularity.desc&include_adult=false&query=${e}`),i=await fetch(`https://api.themoviedb.org/3/search/tv?api_key=${this.apikey}&language=en-US&sort_by=popularity.desc&include_adult=false&query=${e}`);return{searchMovieCatalogueInfo:await t.json(),searchSeriesCatalogueInfo:await i.json()}}async searchMovieId(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${this.apikey}&language=en-US&append_to_response=videos,similar`),i=await fetch(`https://api.themoviedb.org/3/movie/${e}/credits?api_key=${this.apikey}&language=en-US`);return{movieDetailsInfo:await t.json(),movieCastInfo:await i.json()}}async searchSerieId(e){const t=await fetch(`https://api.themoviedb.org/3/tv/${e}?api_key=${this.apikey}&language=en-US&append_to_response=videos,similar,credits`);return await t.json()}async genreListMovies(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=fdde855cd4b047fb1a0ea24a7ec58362&language=en-US");return await e.json()}async genreListSeries(){const e=await fetch("https://api.themoviedb.org/3/genre/tv/list?api_key=fdde855cd4b047fb1a0ea24a7ec58362&language=en-US");return await e.json()}async movieGenre(e,t){const i=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${this.apikey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=${e}&with_genres=${t}`);return await i.json()}async serieGenre(e,t){const i=await fetch(`https://api.themoviedb.org/3/discover/tv?api_key=${this.apikey}&language=en-US&sort_by=popularity.desc&page=${e}&with_genres=${t}`);return await i.json()}async getActors(e){const t=await fetch(`https://api.themoviedb.org/3/person/${e}?api_key=fdde855cd4b047fb1a0ea24a7ec58362&language=en-US&append_to_response=combined_credits,external_ids,images`);return await t.json()}}class UI{printMovies(e){let t="";e.results.reduce((e,t)=>null==t.backdrop_path?(t.rejectionReason="no backdrop",e.rejects.push(t),e):null==t.poster_path?(t.rejectionReason="no photo",e.rejects.push(t),e):t.popularity<4?(t.rejectionReason="bad rating",e.rejects.push(t),e):(e.matches.push(t),e),{matches:[],rejects:[]}).matches.forEach(e=>{let i=e.poster_path;const a=e.title,s=e.release_date.substring(0,4),n=e.vote_average,o=e.id;t=`\n                        <div class="grid-item col-6 col-sm-4 col-md-3 col-lg-2">\n                            <div class="grid-item-content">\n                                <img src="https://image.tmdb.org/t/p/w500/${i}">\n                                <div id="${o}" class="overlay" data-id="movie"></div>\n                                <div class="gall-text text-center">\n                                    <h4 id="${o}" class="content-title" data-id="movie">${a}</h4>\n                                    <span id="${o}" data-id="movie"><i class="fas fa-heart fa-sm"></i> ${n} hearts<span>\n                                    <br>\n                                    <span id="${o}" data-id="movie">${s}</span>  \n                                </div>\n                            </div>\n                            </div>\n                        </div>\n                    `,document.querySelector(".grid").innerHTML+=t})}printSeries(e){let t="";e.results.reduce((e,t)=>null==t.backdrop_path?(t.rejectionReason="no backdrop",e.rejects.push(t),e):null==t.poster_path?(t.rejectionReason="no photo",e.rejects.push(t),e):t.popularity<4?(t.rejectionReason="bad rating",e.rejects.push(t),e):(e.matches.push(t),e),{matches:[],rejects:[]}).matches.forEach(e=>{let i=e.poster_path;const a=e.name,s=e.first_air_date.substring(0,4),n=e.vote_average,o=e.id;t=`\n                    <div class="grid-item col-6 col-sm-4 col-md-3 col-lg-2">\n                        <div class="grid-item-content">\n                            <img src="https://image.tmdb.org/t/p/w500/${i}">\n                            <div id="${o}" class="overlay" data-id="serie"></div>\n                                <div class="gall-text">\n                                    <h4 id="${o}" class="content-title" data-id="serie">${a}</h4>\n                                    <span id="${o}" data-id="serie"><i class="fas fa-heart fa-sm"></i> ${n} hearts<span>\n                                    <br>\n                                    <span id="${o}" data-id="serie">${s}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `,document.querySelector(".grid").innerHTML+=t})}printSearchCat(e){let t="";e.searchMovieCatalogueInfo.results.reduce((e,t)=>null==t.backdrop_path?(t.rejectionReason="no backdrop",e.rejects.push(t),e):null==t.poster_path?(t.rejectionReason="no photo",e.rejects.push(t),e):t.popularity<4?(t.rejectionReason="bad rating",e.rejects.push(t),e):(e.matches.push(t),e),{matches:[],rejects:[]}).matches.forEach(e=>{const i=e.poster_path,a=e.title,s=e.release_date.substring(0,4),n=e.vote_average,o=e.id;t+=`\n                    <div class="grid-item col-6 col-sm-4 col-md-3 col-lg-2">\n                        <div class="grid-item-content">\n                            <img src="https://image.tmdb.org/t/p/w500/${i}">\n                            <div id="${o}" class="overlay" data-id="movie"></div>\n                                <div class="gall-text">\n                                    <h4 id="${o}" class="content-title" data-id="movie">${a}</h4>\n                                    <span id="${o}" data-id="movie"><i class="fas fa-heart fa-sm"></i> ${n} hearts<span>\n                                    <br>\n                                    <span id="${o}" data-id="movie">${s}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>    \n                `,document.querySelector(".grid").innerHTML=t}),e.searchSeriesCatalogueInfo.results.reduce((e,t)=>null==t.backdrop_path?(t.rejectionReason="no backdrop",e.rejects.push(t),e):null==t.poster_path?(t.rejectionReason="no photo",e.rejects.push(t),e):t.popularity<4?(t.rejectionReason="bad rating",e.rejects.push(t),e):(e.matches.push(t),e),{matches:[],rejects:[]}).matches.forEach(e=>{const i=e.poster_path,a=e.name,s=e.first_air_date.substring(0,4),n=e.vote_average,o=e.id;t+=`\n                    <div class="grid-item col-6 col-sm-4 col-md-3 col-lg-2">\n                            <div class="grid-item-content">\n                                <img src="https://image.tmdb.org/t/p/w500/${i}">\n                                <div id="${o}" class="overlay" data-id="serie"></div>\n                                    <div class="gall-text">\n                                        <h4 id="${o}" class="content-title" data-id="serie">${a}</h4>\n                                        <span id="${o}" data-id="serie"><i class="fas fa-heart fa-sm"></i> ${n} hearts<span>\n                                        <br>\n                                        <span id="${o}" data-id="serie">${s}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>   \n                    `,document.querySelector(".grid").innerHTML=t})}printModalMovie(e){document.querySelector("body").style.overflow="hidden";let t="";e.movieCastInfo.cast.slice(0,10).forEach(e=>{t+=`\n                    <a href="#!" class="actor" data-actor="${e.id}" onclick="printActor(event)">${e.name}</a>\n                `});let i="";e.movieDetailsInfo.genres.forEach(e=>{i+=`\n                <span class="badge badge-pill badge-light">${e.name}</span> \n            `});const a=e.movieDetailsInfo,s=a.backdrop_path,n=a.budget,o=a.homepage,r=a.imdb_id,l=a.original_language,c=a.title,d=a.overview,p=a.popularity,m=(a.poster_path,a.release_date.substring(0,4)),u=a.runtime,g=a.tagline,v=a.vote_average;let h="";h=`\n                    <div class="myModal">\n                        <i class="far fa-times-circle" id="close-modal" onclick="closeModal()"></i>\n                        <a href="http://www.imdb.com/title/${r}" target="_blank"><i class="fab fa-imdb"></i></a>\n                        <a href="http://www.amazon.com/s/ref=nb_ss_d?tag=chriscoyier-20&url=search-alias%3Ddvd&field-keywords=${c}" target="_blank"><i class="fab fa-amazon"></i></a>\n                        <a href="http://www.netflix.com/Search?lnkctr=srchrd-ips&v1=${c}" target="_blank"><span class="icon-netflix"></span></a>\n                        <a href="${o}" target="_blank"><i class="fas fa-globe"></i></a>\n                        <div class="col-md-12 title">\n                            <h2 class="modal-title">${c}</h2>\n                            <h4 class="modal-title">${g}</h4>\n                        </div>\n                        <div class="col-md-8 ml-auto text">\n                            <p class="overview"><span>Overview:</span> ${d}</p>\n                        </div>\n                        <div class="col-md-6 ml-auto text">\n                            <p class="actors"><span>Cast:</span> ${t}</p>\n                        </div>\n                        ${window.innerWidth>=376?`<div class="col-md-5 ml-auto list">\n                        <ul class="list-group">\n                            <li class="list-group-item title">Movie Info:</li>\n                            <li class="list-group-item ml-5"><p>Language: <span>${l}</span></p></li>\n                            <li class="list-group-item ml-5"><p>Release Date: <span>${m}</span></p></li>\n                            <li class="list-group-item ml-5"><p>Runtime: <span>${u}</span> minutes</p></li>\n                            <li class="list-group-item ml-5"><p>Popularity: <span><i class="fas fa-heart fa-sm"></i> ${v}</span> votes (${p})</p></li>\n                            <li class="list-group-item ml-5"><p>Budget: $<span>${n}</span></p></li>\n                        </ul>\n                        </div>\n                        <div class="col-md-5 ml-auto genres">\n                            <div class="ml-5">${i}</div> \n                        </div>`:""}\n                        \n                        ${e.movieDetailsInfo.videos.results<1?"":`<div class="col-md-5 ml-auto genres">\n                                <button type="button" class="btn btn-outline-light trailer-btn" onclick="openVideo()">Trailer</button> \n                            </div>\n                            <div class="col-md-12 mx-auto video-container">\n                                <iframe src="https://www.youtube.com/embed/${a.videos.results[0].key}?enablejsapi=1&fs=0&iv_load_policy=3&rel=0&showinfo=0" id="trailer-player" frameborder="0" allowfullscreen class="video"></iframe> \n                            </div> `} \n                            \n                            ${e.movieDetailsInfo.similar.results<1?"":'\n                            <div class="mx-auto col-md-1">\n                                <button type="button" class="btn btn-light similar-btn" onclick="ui.openSimilar()"> Similar</button> \n                            </div>\n                            <div class="container-fluid carousel-container">\n                                <div class="print-slick" onclick="printSimilar(event)"></div>\n                            </div>'}\n                    </div>\n                `,document.querySelector(".modal-container").innerHTML=h,document.querySelector(".myModal").style.backgroundImage=`linear-gradient(45deg, rgba(0,0,0,1) 0%,rgba(0,0,0,1) 15%,rgba(255,255,255,.15) 15%,rgba(0,0,0,0) 40%,rgba(0,0,0,0.75) 40%,rgba(0,0,0,0.75) 100%), url(https://image.tmdb.org/t/p/w1280/${s})`,loadYTplayer()}printModalSerie(e){document.querySelector("body").style.overflow="hidden";let t="";e.credits.cast.slice(0,10).forEach(e=>{t+=`\n            <a href="#!" class="actor" data-actor="${e.id}" onclick="printActor(event)">${e.name}</a>\n            `});let i="";e.created_by.forEach(e=>{i+=e.name+", "});let a="";e.genres.forEach(e=>{a+=`\n                <span class="badge badge-pill badge-light">${e.name}</span> \n            `});const s=e.backdrop_path,n=e.name,o=e.homepage,r=e.original_language,l=e.overview,c=e.popularity,d=e.vote_average,p=e.first_air_date.substring(0,4),m=e.last_air_date;e.id;let u="";u=`\n            <div class="myModal">\n            <i class="far fa-times-circle" id="close-modal" onclick="closeModal()"></i>\n            <a href="http://www.imdb.com/find?s=tt&q=${n}" target="_blank"><i class="fab fa-imdb"></i></a>\n            <a href="http://www.amazon.com/s/ref=nb_ss_d?tag=chriscoyier-20&url=search-alias%3Ddvd&field-keywords=${n}" target="_blank"><i class="fab fa-amazon"></i></a>\n            <a href="http://www.netflix.com/Search?lnkctr=srchrd-ips&v1=${n}" target="_blank"><span class="icon-netflix"></span></a>\n            <a href="${o}" target="_blank"><i class="fas fa-globe"></i></a>\n                <div class="col-md-12 title">\n                    <h2 class="modal-title">${n}</h2>\n                </div>\n                <div class="col-md-8 ml-auto text">\n                    <p class="overview"><span>Overview:</span> ${l}</p>\n                </div>\n                <div class="col-md-6 ml-auto text">\n                    <p class="actors"><span>Cast:</span> ${t}</p>\n                </div>\n                <div class="col-md-5 ml-auto list">\n                <ul class="list-group">\n                    <li class="list-group-item title">Series Info:</li>\n                    <li class="list-group-item ml-5"><p>Creators: <span>${i}</span></p></li>\n                    <li class="list-group-item ml-5"><p>Network: <span>${e.networks[0].name}</span></p></li>\n                    <li class="list-group-item ml-5"><p>Language: <span>${r}</span></p></li>\n                    <li class="list-group-item ml-5"><p>Series Started: <span>${p}</span> Latest Air Date: <span>${m}</span></p></li>\n                    <li class="list-group-item ml-5"><p>Runtime: ~ <span>${e.episode_run_time[0]}</span> minutes</p></li>\n                    <li class="list-group-item ml-5"><p>Popularity: <span><i class="fas fa-heart fa-sm"></i> ${d}</span> votes (${c})</p></li>\n                </ul>\n                </div>\n                <div class="col-md-5 ml-auto genres">\n                    <div class="ml-5">${a}</div> \n                </div>\n                ${e.videos.results<1?"":` \n                    <div class="col-md-5 ml-auto genres">\n                        <button type="button" class="btn btn-outline-light trailer-btn" onclick="openVideo()">Trailer</button> \n                    </div>\n                    <div class="col-md-12 mx-auto video-container">\n                        <iframe src="https://www.youtube.com/embed/${e.videos.results[0].key}?enablejsapi=1&fs=0&iv_load_policy=3&rel=0&showinfo=0" id="trailer-player" frameborder="0" allowfullscreen class="video"></iframe> \n                    </div> `}  \n                \n                ${e.similar.results<1?"":'\n                    <div class="mx-auto col-md-1">\n                        <button type="button" class="btn btn-light similar-btn" onclick="ui.openSimilar()"> Similar</button> \n                    </div>\n                    <div class="container-fluid carousel-container" onclick="printSimilar(event)">\n                        <div class="print-slick"></div>\n                    </div>'}\n            </div>\n        `,document.querySelector(".modal-container").innerHTML=u,document.querySelector(".myModal").style.backgroundImage=`linear-gradient(45deg, rgba(0,0,0,1) 0%,rgba(0,0,0,1) 15%,rgba(255,255,255,.15) 15%,rgba(0,0,0,0) 40%,rgba(0,0,0,0.75) 40%,rgba(0,0,0,0.75) 100%), url(https://image.tmdb.org/t/p/w1280/${s})`,loadYTplayer()}printSimilarMovies(e){let t="";e.movieDetailsInfo.similar.results.forEach(e=>{t+=`\n                <div class="slick-item">\n                    <img src="https://image.tmdb.org/t/p/w154/${e.poster_path}"  id="${e.id}" data-id="movie" alt="Similar">\n                </div>\n            `}),document.querySelector(".print-slick").innerHTML=t}printSimilarSeries(e){let t="";e.similar.results.forEach(e=>{t+=`\n                <div class="slick-item">\n                    <img src="https://image.tmdb.org/t/p/w154/${e.poster_path}"  id="${e.id}" data-id="serie" alt="Similar">\n                </div>\n            `}),document.querySelector(".print-slick").innerHTML=t}openSimilar(){document.querySelector(".similar-btn").classList.toggle("sm-btn-active"),document.querySelector(".carousel-container").classList.toggle("car-cont-active")}clearModal(){const e=document.querySelector(".myModal"),t=document.querySelector(".video-container"),i=document.querySelector(".actorModal");t&&"block"===t.style.display?(t.style.display="none",player.stopVideo()):i?i.remove():e&&(e.remove(),document.querySelector("body").style.overflow="auto")}clearInput(){document.getElementById("inlineFormInputGroup").value=""}noMovieFound(){document.querySelector(".grid").innerHTML="";let e="";e='\n            <div class="container text-center">\n                <div class="no-movie-found">\n                    <h2>Wops! We couldn\'t find that! Try another one! :)</h2>\n                    <img src="https://media.giphy.com/media/323W9jGIsDzUFUuOtd/giphy.gif">\n                </div>\n            </div>\n        ',document.querySelector(".grid").innerHTML=e}activeLink(e){const t=document.getElementById("movies"),i=document.getElementById("series"),a=e.target.id;"movies"===a?(i.classList.remove("active-link"),t.classList.add("active-link")):"series"===a&&(t.classList.remove("active-link"),i.classList.add("active-link"))}printMovieGenres(e){let t="";e.genres.forEach(e=>{const i=e.id,a=e.name;t+=`\n                <a class="dropdown-item" data-genre="${i}" href="#">${a}</a>\n            `,document.querySelector(".dropdown-menu").innerHTML=t})}printSeriesGenres(e){let t="";e.genres.forEach(e=>{const i=e.id,a=e.name;t+=`\n                <a class="dropdown-item" data-genre="${i}" href="#">${a}</a>\n            `,document.querySelector(".dropdown-menu").innerHTML=t})}printMovieByGenre(e){let t="";e.results.reduce((e,t)=>null==t.poster_path?(t.rejectionReason="no photo",e.rejects.push(t),e):t.popularity<4?(t.rejectionReason="bad rating",e.rejects.push(t),e):(e.matches.push(t),e),{matches:[],rejects:[]}).matches.forEach(e=>{let i=e.poster_path;const a=e.original_title,s=e.release_date.substring(0,4),n=e.vote_average,o=e.id;t=`\n                        <div class="grid-item col-6 col-sm-4 col-md-3 col-lg-2">\n                            <div class="grid-item-content">\n                                <img src="https://image.tmdb.org/t/p/w500/${i}">\n                                <div id="${o}" class="overlay" data-id="movie"></div>\n                                <div class="gall-text text-center">\n                                    <h4 id="${o}" class="content-title" data-id="movie">${a}</h4>\n                                    <span id="${o}" data-id="movie"><i class="fas fa-heart fa-sm"></i> ${n} hearts<span>\n                                    <br>\n                                    <span id="${o}" data-id="movie">${s}</span>   \n                                </div>\n                            </div>\n                            </div>\n                        </div>\n                    `,document.querySelector(".grid").innerHTML+=t})}printSeriesByGenres(e){let t="";e.results.reduce((e,t)=>null==t.poster_path?(t.rejectionReason="no photo",e.rejects.push(t),e):t.popularity<4?(t.rejectionReason="bad rating",e.rejects.push(t),e):(e.matches.push(t),e),{matches:[],rejects:[]}).matches.forEach(e=>{let i=e.poster_path;const a=e.name,s=e.first_air_date.substring(0,4),n=e.vote_average,o=e.id;t=`\n                    <div class="grid-item col-6 col-sm-4 col-md-3 col-lg-2" id="genre">\n                        <div class="grid-item-content">\n                            <img src="https://image.tmdb.org/t/p/w500/${i}">\n                            <div id="${o}" class="overlay" data-id="serie"></div>\n                                <div class="gall-text">\n                                    <h4 id="${o}" class="content-title" data-id="serie">${a}</h4>\n                                    <span id="${o}" data-id="serie"><i class="fas fa-heart fa-sm"></i> ${n} hearts<span>\n                                    <br>\n                                    <span id="${o}" data-id="serie">${s}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `,document.querySelector(".grid").innerHTML+=t})}printActor(e){console.log(e);const t=e.combined_credits.cast.reduce((e,t)=>"tv"==t.media_type?(e.series.push(t),e):(e.movies.push(t),e),{movies:[],series:[]});let i="";t.movies.forEach(e=>{const t=e.title,a=e.release_date,s=(e.id,e.character),n=a?a.substring(0,4):"n/a";i+=`\n            <li class="list-group-item credit d-flex justify-content-between align-items-center">\n                <span class="cr-title">${t}<br><span class="role">${s}</span></span> \n                <span class="badge badge-light badge-pill badge-year">${n}</span>\n            </li>    \n            `});let a="";t.series.forEach(e=>{const t=e.name,i=e.first_air_date.substring(0,4),s=(e.id,e.character);a+=`\n            <li class="list-group-item credit d-flex justify-content-between align-items-center">\n                <span class="cr-title">${t}<br><span class="role">${s}</span></span> \n                <span class="badge badge-light badge-pill">${i}</span>\n            </li>    \n            `}),document.querySelector(".modal-container").style.overflow="scroll";const s=e.biography,n=e.birthday,o=e.name,r=e.place_of_birth,l=e.profile_path,c=n?n.split("-").reverse().join("-"):"n/a";let d="";const p=e.external_ids,m=[];m.push(p),m.forEach(e=>{let t=e.facebook_id,i=e.instagram_id,a=e.twitter_id,s=e.imdb_id;d+=`\n                ${t?`<a target="_blank" href="https://www.facebook.com/${t}"><i class="fab fa-facebook-square"></i></a>`:""}\n                ${i?`<a target="_blank" href="https://www.instagram.com/${i}"><i class="fab fa-instagram"></i></a>`:""}\n                ${a?`<a target="_blank" href="https://twitter.com/${a}"> <i class="fab fa-twitter-square"></i></a>`:""}\n                ${s?`<a target="_blank" href="https://www.imdb.com/name/${s}"><i class="fab fa-imdb"></i></a>`:""}\n            `});let u="";e.images.profiles.forEach(e=>{const t=e.file_path;u+=`\n                <div class="col-lg-2 foto-gall">\n                    <a class="popup-pic" href="https://image.tmdb.org/t/p/w780/${t}">\n                        <img class="gallery-actor" src="https://image.tmdb.org/t/p/w342/${t}">\n                    </a>\n                </div>\n            `});let g="";g=`\n            <div class="actorModal">\n                <i class="far fa-times-circle" id="close-modal" onclick="closeModal()"></i>\n                <div class="container-fluid">\n                    <div class="row">\n                        <div class="col-md-12 title flex-col">\n\n                            <h2 class="modal-title">${o} </h2>\n                          \n                              <h4><span> DOB: </span>${c} </h4>\n                              \n                              <h4>  <span> POB: </span> ${void 0!=r?r:"n/a"}</h4>\n                       </div>\n                        <div class="col-md-6 actor-pic">\n                            ${l?`<img class="main-pic" src="https://image.tmdb.org/t/p/w780/${l}">`:'<img class="main-pic" src="assets/media/images/popcorn.png">'} \n                            <div class="social-icons">\n                                ${d}\n                            </div>\n                                <h3>Gallery</h3>\n                                <div class="row gallery-main">\n                                    ${u}\n                                </div>\n                        </div>\n                        <div class="col-md-6 text">\n                            <p class="bio"><span>Overview:</span> ${s}</p>\n                            <button type="button" class="btn expand-btn" onclick="expand()"> Open</button> \n                            <h3>Movies</h3>\n                            <ul class="list-group credits">${i}</ul>\n                            ${t.series.length<1?"":"\n                                <h3>Series</h3>\n                            "} \n                            <ul class="list-group credits">${a}</ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,document.querySelector(".actor-modal-container").innerHTML=g;document.querySelector(".actorModal")}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1vdmllYXBpLmpzIiwidWkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJ1c2Vyc2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyEgbW91c2UgaGFjayBmb3IgY3Jvc3MgYnRvd3NlciBjb21wYXRpYmlsaXR5IG9mIGV2ZW50XG5mdW5jdGlvbiBmaXh1cE1vdXNlKGV2ZW50KSB7XG4gIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICB2YXIgZSA9IHtcbiAgICBldmVudDogZXZlbnQsXG4gICAgdGFyZ2V0OiBldmVudC50YXJnZXQgPyBldmVudC50YXJnZXQgOiBldmVudC5zcmNFbGVtZW50LFxuICAgIHdoaWNoOiBldmVudC53aGljaFxuICAgICAgPyBldmVudC53aGljaFxuICAgICAgOiBldmVudC5idXR0b24gPT09IDFcbiAgICAgICAgPyAxXG4gICAgICAgIDogZXZlbnQuYnV0dG9uID09PSAyXG4gICAgICAgICAgPyAzXG4gICAgICAgICAgOiBldmVudC5idXR0b24gPT09IDRcbiAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgOiAxLFxuICAgIHg6IGV2ZW50LnggPyBldmVudC54IDogZXZlbnQuY2xpZW50WCxcbiAgICB5OiBldmVudC55ID8gZXZlbnQueSA6IGV2ZW50LmNsaWVudFlcbiAgfTtcbiAgcmV0dXJuIGU7XG59XG5cbi8vISBPQkpFQ1QgSU5JVElBTElaRVJTXG4vLyBpbml0IG1vdmllIG9iamVjdCBmcm9tIGNsYXNzXG5jb25zdCBtb3ZpZSA9IG5ldyBNb3ZpZSgpO1xuXG4vLyBpbml0IHVpIG9iamVjdFxuY29uc3QgdWkgPSBuZXcgVUkoKTtcblxuLy8gaW5pdCBZVCBvYmplY3RcbnZhciBwbGF5ZXI7XG5mdW5jdGlvbiBsb2FkWVRwbGF5ZXIoKSB7XG4gIHBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ3RyYWlsZXItcGxheWVyJyk7XG59XG5cbi8vaW5pdCBTbGljayBDYXJvdXNlbCBQbHVnaW4gLy8hIG1ha2UgcmVzcG9uc2l2ZVxuZnVuY3Rpb24gc2xpY2tSZWFkeSgpIHtcbiAgJCgnLnByaW50LXNsaWNrJykuc2xpY2soe1xuICAgIGluZmluaXRlOiB0cnVlLFxuICAgIHNsaWRlc1RvU2hvdzogNyxcbiAgICBzbGlkZXNUb1Njcm9sbDogNyxcbiAgICBhcnJvd3M6IHRydWUsXG4gICAgZHJhZ2FibGU6IHRydWUsXG4gICAgcmVzcG9uc2l2ZTogW1xuICAgICAge1xuICAgICAgICBicmVha3BvaW50OiAxOTIxLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMTAsXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDE2MjEsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA4LFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA4XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDEzNzYsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA3LFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA3XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDEwMjUsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA1XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDc2OSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDRcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYnJlYWtwb2ludDogNTgwLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBicmVha3BvaW50OiAzMjEsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufVxuXG4vLyBpbml0IG1hZ25pZmljIHBvcHVwIHBsdWdpblxuZnVuY3Rpb24gcG9wdXBSZWFkeSgpIHtcbiAgJCgnLnBvcHVwLXBpYycpLm1hZ25pZmljUG9wdXAoe1xuICAgIHR5cGU6ICdpbWFnZScsXG4gICAgc2hvd0Nsb3NlQnRuOiBmYWxzZSxcbiAgICBnYWxsZXJ5OiB7XG4gICAgICBlbmFibGVkOiB0cnVlXG4gICAgfVxuICB9KTtcbn1cblxuLy8hIE9OIExPQUQgR0VUIFJFU1VMVFNcbi8vZ2V0IG1vdmllcyBhbmQgZ2VucmVzIG9uIERPTSBsb2FkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZ2V0TW92aWVzKTtcbi8vZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGdldEdlbnJlcyk7XG5cbmZ1bmN0aW9uIGdldE1vdmllcyhwYWdlKSB7XG4gIG1vdmllXG4gICAgLnRvcE1vdmllcyhwYWdlKVxuICAgIC50aGVuKHRvcE1vdmllc1JlcyA9PiB7XG4gICAgICB1aS5wcmludE1vdmllcyh0b3BNb3ZpZXNSZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbn1cblxuLy8gZ2V0IHNlcmllc1xuZnVuY3Rpb24gZ2V0U2VyaWVzKHBhZ2UpIHtcbiAgbW92aWVcbiAgICAudG9wU2VyaWVzKHBhZ2UpXG4gICAgLnRoZW4odG9wU2VyaWVzUmVzID0+IHtcbiAgICAgIHVpLnByaW50U2VyaWVzKHRvcFNlcmllc1Jlcyk7XG4gICAgICAvL2NvbnNvbGUubG9nKHRvcFNlcmllc1Jlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xufVxuXG4vLyAvL2dldCBnZW5yZXMgLS0gY2FsbGVkIG9uIGRvY3VtZW50IGxvYWRcbi8vIGZ1bmN0aW9uIGdldEdlbnJlcygpIHtcbi8vICAgLy8gb24gbG9hZCBjYWxsIHRoZSBhcGkgIC0tIGdldCBnZW5yZXMgbGlzdCBzZW5kIHRoZW0gdG8gdWlcbi8vICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb3ZpZXMuYWN0aXZlLWxpbmsnKSkge1xuLy8gICAgIG1vdmllXG4vLyAgICAgICAuZ2VucmVMaXN0TW92aWVzKClcbi8vICAgICAgIC50aGVuKGdlbnJlTGlzdE1vdmllc1JlcyA9PiB7XG4vLyAgICAgICAgIHVpLnByaW50TW92aWVHZW5yZXMoZ2VucmVMaXN0TW92aWVzUmVzKTtcbi8vICAgICAgIH0pXG4vLyAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuLy8gICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXJpZXMuYWN0aXZlLWxpbmsnKSkge1xuLy8gICAgIG1vdmllXG4vLyAgICAgICAuZ2VucmVMaXN0U2VyaWVzKClcbi8vICAgICAgIC50aGVuKGdlbnJlTGlzdFNlcmllc1JlcyA9PiB7XG4vLyAgICAgICAgIHVpLnByaW50U2VyaWVzR2VucmVzKGdlbnJlTGlzdFNlcmllc1Jlcyk7XG4vLyAgICAgICB9KVxuLy8gICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbi8vICAgfVxuLy8gfVxuXG4vLyBldmVudCBsaXN0ZW5lciBtb3ZpZXMgbGluayBOYXZiYXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZpZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgLy8gY2xlYXIgZG9tIGZyb20gcHJldmlld3MgYXBwZW5kZWQgcmVzdWx0c1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCA9ICcnO1xuICAvLyBjYWxsIGZ1bmN0aW9uXG4gIGdldE1vdmllcygpO1xuICAvLyBjbGVhciBzZWFyY2ggaW5wdXQgaWYgaXQgaGFzIGxldHRlcnMgaW5zaWRlXG4gIHVpLmNsZWFySW5wdXQoKTtcbn0pO1xuXG4vL2V2ZW50IGxpc3RlbmVyIHNlcmllcyBsaW5rIE5hdmJhclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlcmllcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCA9ICcnO1xuICBnZXRTZXJpZXMoKTtcbiAgdWkuY2xlYXJJbnB1dCgpO1xufSk7XG5cbi8vISBOQVZCQVIgQU5EIFBBR0lOQVRJT05cbi8vIEV2dCBMaXN0ZW5lciBmb3IgbmF2IGFjdGl2ZSBsaW5rXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuTXlOYXYnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAvLyBmaXJzdCByZXNldCBjb3VudGVyc1xuICBtb3ZpZXNQYWdlID0gMTtcbiAgc2VyaWVzUGFnZSA9IDE7XG4gIC8vdGhlbiBzZXQgYWN0aXZlIGxpbmtcbiAgdWkuYWN0aXZlTGluayhlKTtcbiAgLy9jYWxsIGdlbnJlIGZ1bmN0aW9uXG4gIC8vZ2V0R2VucmVzKCk7XG59KTtcblxuLy8hIE9QRU4gQ0xPU0UgTU9EQUxcbi8vIGV2ZW50IGxpc3RlbmVyIG1vZGFsXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsKTtcblxuZnVuY3Rpb24gb3Blbk1vZGFsKGV2ZW50KSB7XG4gIHZhciBlID0gZml4dXBNb3VzZShldmVudCk7XG5cbiAgaWYgKGUudGFyZ2V0LmRhdGFzZXQuaWQgPT09ICdtb3ZpZScpIHtcbiAgICBjb25zdCBjbGlja0lkID0gZS50YXJnZXQuaWQ7IC8vISBpZiBpdHMgYSBtb3ZpZVxuXG4gICAgLy8gbW92aWUgZGV0YWlscyBhbmQgY2FzdCBieSBpZFxuICAgIG1vdmllXG4gICAgICAuc2VhcmNoTW92aWVJZChjbGlja0lkKVxuICAgICAgLnRoZW4oc2VhcmNoTW92aWVJZFJlcyA9PiB7XG4gICAgICAgIHVpLnByaW50TW9kYWxNb3ZpZShzZWFyY2hNb3ZpZUlkUmVzKTtcbiAgICAgICAgdWkucHJpbnRTaW1pbGFyTW92aWVzKHNlYXJjaE1vdmllSWRSZXMpO1xuICAgICAgICBzbGlja1JlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfSBlbHNlIGlmIChlLnRhcmdldC5kYXRhc2V0LmlkID09PSAnc2VyaWUnKSB7XG4gICAgLy8hIGlmIGl0cyBhIHNlcmllc1xuICAgIGNvbnN0IGNsaWNrSWQgPSBlLnRhcmdldC5pZDtcblxuICAgIC8vIHNlcmllIGRldGFpbHMgRlVMTFxuICAgIG1vdmllXG4gICAgICAuc2VhcmNoU2VyaWVJZChjbGlja0lkKVxuICAgICAgLnRoZW4oc2VhcmNoU2VyaWVJZFJlcyA9PiB7XG4gICAgICAgIHVpLnByaW50TW9kYWxTZXJpZShzZWFyY2hTZXJpZUlkUmVzKTtcbiAgICAgICAgdWkucHJpbnRTaW1pbGFyU2VyaWVzKHNlYXJjaFNlcmllSWRSZXMpO1xuICAgICAgICBzbGlja1JlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxufVxuXG4vLyEgR0VUIEFDVE9SU1xuXG5mdW5jdGlvbiBwcmludEFjdG9yKGV2ZW50KSB7XG4gIHZhciBlID0gZml4dXBNb3VzZShldmVudCk7XG5cbiAgY29uc3QgYWN0b3JJZCA9IGUudGFyZ2V0LmRhdGFzZXQuYWN0b3I7XG5cbiAgbW92aWVcbiAgICAuZ2V0QWN0b3JzKGFjdG9ySWQpXG4gICAgLnRoZW4oZ2V0QWN0b3JSZXMgPT4ge1xuICAgICAgdWkucHJpbnRBY3RvcihnZXRBY3RvclJlcyk7XG4gICAgICBwb3B1cFJlYWR5KCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xufVxuXG4vLyEgRVhQQU5EIEFDVE9SIEJJT1xuZnVuY3Rpb24gZXhwYW5kKCkge1xuICBjb25zdCBiaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmlvJyk7XG4gIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoYmlvKTtcbiAgY29uc3QgYmlvU2l6ZSA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21heC1oZWlnaHQnKTtcblxuICBpZiAoYmlvU2l6ZSA9PSAnNTBweCcpIHtcbiAgICBiaW8uc3R5bGUubWF4SGVpZ2h0ID0gJzMwMHB4JztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXhwYW5kLWJ0bicpLmlubmVySFRNTCA9ICdDbG9zZSc7XG4gIH0gZWxzZSB7XG4gICAgYmlvLnN0eWxlLm1heEhlaWdodCA9ICc1MHB4JztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXhwYW5kLWJ0bicpLmlubmVySFRNTCA9ICdPcGVuJztcbiAgfVxufVxuXG4vLyEgR08gVE8gU0lNSUxBUlxuZnVuY3Rpb24gcHJpbnRTaW1pbGFyKGV2ZW50KSB7XG4gIHZhciBlID0gZml4dXBNb3VzZShldmVudCk7XG5cbiAgaWYgKGUudGFyZ2V0LmRhdGFzZXQuaWQgPT09ICdtb3ZpZScpIHtcbiAgICBjb25zdCBjbGlja0lkID0gZS50YXJnZXQuaWQ7IC8vISBpZiBpdHMgYSBtb3ZpZVxuXG4gICAgLy8gbW92aWUgZGV0YWlscyBhbmQgY2FzdCBieSBpZFxuICAgIG1vdmllXG4gICAgICAuc2VhcmNoTW92aWVJZChjbGlja0lkKVxuICAgICAgLnRoZW4oc2VhcmNoTW92aWVJZFJlcyA9PiB7XG4gICAgICAgIHVpLnByaW50TW9kYWxNb3ZpZShzZWFyY2hNb3ZpZUlkUmVzKTtcbiAgICAgICAgdWkucHJpbnRTaW1pbGFyTW92aWVzKHNlYXJjaE1vdmllSWRSZXMpO1xuICAgICAgICBzbGlja1JlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfSBlbHNlIGlmIChlLnRhcmdldC5kYXRhc2V0LmlkID09PSAnc2VyaWUnKSB7XG4gICAgLy8hIGlmIGl0cyBhIHNlcmllc1xuICAgIGNvbnN0IGNsaWNrSWQgPSBlLnRhcmdldC5pZDtcblxuICAgIC8vIHNlcmllIGRldGFpbHMgRlVMTFxuICAgIG1vdmllXG4gICAgICAuc2VhcmNoU2VyaWVJZChjbGlja0lkKVxuICAgICAgLnRoZW4oc2VhcmNoU2VyaWVJZFJlcyA9PiB7XG4gICAgICAgIHVpLnByaW50TW9kYWxTZXJpZShzZWFyY2hTZXJpZUlkUmVzKTtcbiAgICAgICAgdWkucHJpbnRTaW1pbGFyU2VyaWVzKHNlYXJjaFNlcmllSWRSZXMpO1xuICAgICAgICBzbGlja1JlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxufVxuXG4vLyBkZWxldGUgbW9kYWwgLy8qIGV2dCBsc3RuciBvbiBodG1sXG5mdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICB1aS5jbGVhck1vZGFsKCk7XG59XG5cbi8vIGZ1bmN0aW9uIGZvciB0cmFpbGVyIHZpZGVvIGNhbGxlZCBmcm9tIGh0bWxcbmZ1bmN0aW9uIG9wZW5WaWRlbygpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15TW9kYWwnKS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW8tY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgcGxheWVyLnBsYXlWaWRlbygpO1xufVxuXG4vLyEgU0VBUkNIIEZPUiBSRVNVTFRTXG4vLyBldmVudCBsaXN0ZW5lciBzZWFyY2hcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmxpbmVGb3JtSW5wdXRHcm91cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG4gIGNvbnN0IHVzZXJUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lubGluZUZvcm1JbnB1dEdyb3VwJykudmFsdWU7XG5cbiAgLy8gc2VhcmNoIG9ubHkgaWYgdGhlcmUgYXJlIGF0bGVhc3QgMyBsZXR0ZXJzXG4gIGlmICh1c2VyVGV4dC5sZW5ndGggPj0gMykge1xuICAgIC8vIGZpbmQgbW92aWVzIGFuZCBzZXJpZXMgYnkgc2VhcmNoIGtleXdvcmQgbmFtZVxuICAgIG1vdmllXG4gICAgICAuc2VhcmNoQ2F0YWxvZ3VlKHVzZXJUZXh0KVxuICAgICAgLnRoZW4oc2VhcmNoQ2F0YWxvZ3VlUmVzID0+IHtcbiAgICAgICAgdWkucHJpbnRTZWFyY2hDYXQoc2VhcmNoQ2F0YWxvZ3VlUmVzKTtcblxuICAgICAgICAvLyBpZiBubyByZXN1bHRzIHByaW50ICcnbm8gbW92aWUgZm91bmQnJ1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VhcmNoQ2F0YWxvZ3VlUmVzLnNlYXJjaE1vdmllQ2F0YWxvZ3VlSW5mby5yZXN1bHRzIDwgMSAmJlxuICAgICAgICAgIHNlYXJjaENhdGFsb2d1ZVJlcy5zZWFyY2hTZXJpZXNDYXRhbG9ndWVJbmZvLnJlc3VsdHMgPCAxXG4gICAgICAgICkge1xuICAgICAgICAgIHVpLm5vTW92aWVGb3VuZCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIGlmIGxlc3MgdGhhbiAxIGxldHRlciBvbiBzZWFyY2ggaW5wdXRcbiAgaWYgKHVzZXJUZXh0Lmxlbmd0aCA8IDEpIHtcbiAgICAvL2xvYWQgbW92aWVzXG4gICAgZ2V0TW92aWVzKCk7XG4gICAgLy8gcmVzZXQgY291bnRlcnNcbiAgICBtb3ZpZXNQYWdlID0gMTtcbiAgICBzZXJpZXNQYWdlID0gMTtcbiAgICAvLyBzZXQgYWN0aXZlIGxpbmsgdG8gbW92aWVzIGlmIGl0cyBub3QgdGhlcmVcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VyaWVzJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWxpbmsnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92aWVzJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWxpbmsnKTtcbiAgICAvLyBjbGVhciBkb20gZnJvbSBwcmV2aW91cyBtb3ZpZXNcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbi8vISBMT0FEIE1PUkUgTElTVEVORVJcbi8vIGdsb2JhbHMgZm9yIGNvdW50ZXJcbmxldCBtb3ZpZXNQYWdlID0gMTtcbmxldCBzZXJpZXNQYWdlID0gMTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGxvYWRNb3JlKTtcbmZ1bmN0aW9uIGxvYWRNb3JlKGUpIHtcbiAgLy8gZGVmaW5lIGlucHV0IGNvbnN0XG4gIGNvbnN0IHVzZXJUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lubGluZUZvcm1JbnB1dEdyb3VwJykudmFsdWU7XG4gIC8vIGlmIGJvdHRvbSBvZiBwYWdlXG4gIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgKyB3aW5kb3cuc2Nyb2xsWSA+PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW92aWVzLmFjdGl2ZS1saW5rJykgJiYgIXVzZXJUZXh0KSB7XG4gICAgICBtb3ZpZXNQYWdlKys7XG4gICAgICBnZXRNb3ZpZXMobW92aWVzUGFnZSk7XG4gICAgICAvL3ByaW50QnlHZW5yZShtb3ZpZXNQYWdlLCBnZW5yZUlkKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXJpZXMuYWN0aXZlLWxpbmsnKSAmJiAhdXNlclRleHQpIHtcbiAgICAgIHNlcmllc1BhZ2UrKztcbiAgICAgIGdldFNlcmllcyhzZXJpZXNQYWdlKTtcblxuICAgICAgLy8gaWYgb24gc2VhcmNoIG1vZGUgZG9udCBsb2FkIG1vcmVcbiAgICB9IGVsc2UgaWYgKHVzZXJUZXh0KSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gbW9yZSBTdWdnZXN0aW9ucy4nKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gLy8hIFBSSU5UIEJZIEdFTlJFXG4vLyAvLyBnZXQgYWNjZXNzIHRvIGdlbnJlIGxpc3Qgb24gbmF2XG4vLyBkb2N1bWVudFxuLy8gICAucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLW1lbnUnKVxuLy8gICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmludEJ5R2VucmUpO1xuXG4vLyBmdW5jdGlvbiBwcmludEJ5R2VucmUoZSwgbW92aWVzUGFnZSwgZ2VucmVJZCkge1xuLy8gICAvLyBjbGVhbiBkb20gZnJvbSBwcmV2aW91cyBtb3ZpZXNcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKS5pbm5lckhUTUwgPSAnJztcbi8vICAgLy8gY2xlYW4gc2VhcmNoIGlucHV0XG4vLyAgIHVpLmNsZWFySW5wdXQoKTtcbi8vICAgLy8gZmV0Y2ggdGhlIGRhdGEtZ2VucmUgb2YgZWFjaCBsaW5rXG4vLyAgIGNvbnN0IGdlbnJlSWQgPSBlLnRhcmdldC5kYXRhc2V0LmdlbnJlO1xuLy8gICAvLyBvbiBjbGljayBvZiBlYWNoIHNlbnQgZGF0YSB0byBhcGkgY2FsbFxuLy8gICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vdmllcy5hY3RpdmUtbGluaycpKSB7XG4vLyAgICAgLy8hIG1vdmllcyBnZW5yZXNcbi8vICAgICBtb3ZpZVxuLy8gICAgICAgLm1vdmllR2VucmUobW92aWVzUGFnZSwgZ2VucmVJZClcbi8vICAgICAgIC50aGVuKG1vdmllR2VucmVSZXMgPT4ge1xuLy8gICAgICAgICB1aS5wcmludE1vdmllQnlHZW5yZShtb3ZpZUdlbnJlUmVzKTtcbi8vICAgICAgIH0pXG4vLyAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuLy8gICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXJpZXMuYWN0aXZlLWxpbmsnKSkge1xuLy8gICAgIC8vISBzZXJpZXMgZ2VucmVzXG5cbi8vICAgICBtb3ZpZVxuLy8gICAgICAgLnNlcmllR2VucmUoZ2VucmVJZClcbi8vICAgICAgIC50aGVuKHNlcmllR2VucmVSZXMgPT4ge1xuLy8gICAgICAgICB1aS5wcmludFNlcmllc0J5R2VucmVzKHNlcmllR2VucmVSZXMpO1xuLy8gICAgICAgfSlcbi8vICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4vLyAgIH1cbi8vIH1cbiIsImNsYXNzIE1vdmllIHtcbiAgY29uc3RydWN0b3IocGFnZSkge1xuICAgIHRoaXMuYXBpa2V5ID0gJ2ZkZGU4NTVjZDRiMDQ3ZmIxYTBlYTI0YTdlYzU4MzYyJztcbiAgfVxuXG4gIC8vISBUT1AgTU9WSUVTIEFORCBTRVJJRVNcbiAgYXN5bmMgdG9wTW92aWVzKHBhZ2UpIHtcbiAgICBjb25zdCB0b3BNb3ZpZXNSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtcbiAgICAgICAgdGhpcy5hcGlrZXlcbiAgICAgIH0mbGFuZ3VhZ2U9ZW4tVVMmc29ydF9ieT1wb3B1bGFyaXR5LmRlc2MmaW5jbHVkZV9hZHVsdD1mYWxzZSZpbmNsdWRlX3ZpZGVvPWZhbHNlJnBhZ2U9JHtwYWdlfWBcbiAgICApO1xuICAgIGNvbnN0IHRvcE1vdmllc0luZm8gPSBhd2FpdCB0b3BNb3ZpZXNSZXMuanNvbigpO1xuICAgIHJldHVybiB0b3BNb3ZpZXNJbmZvO1xuICB9XG5cbiAgYXN5bmMgdG9wU2VyaWVzKHBhZ2UpIHtcbiAgICBjb25zdCB0b3BTZXJpZXNSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL3R2P2FwaV9rZXk9JHtcbiAgICAgICAgdGhpcy5hcGlrZXlcbiAgICAgIH0mbGFuZ3VhZ2U9ZW4tVVMmc29ydF9ieT1wb3B1bGFyaXR5LmRlc2MmcGFnZT0ke3BhZ2V9YFxuICAgICk7XG5cbiAgICBjb25zdCB0b3BTZXJpZXNJbmZvID0gYXdhaXQgdG9wU2VyaWVzUmVzLmpzb24oKTtcbiAgICByZXR1cm4gdG9wU2VyaWVzSW5mbztcbiAgfVxuXG4gIC8vISBTRUFSQ0ggTU9WSUVTIEFORCBTRVJJRVNcbiAgYXN5bmMgc2VhcmNoQ2F0YWxvZ3VlKHVzZXJUZXh0KSB7XG4gICAgY29uc3Qgc2VhcmNoTW92aWVDYXRhbG9ndWVSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3NlYXJjaC9tb3ZpZT9hcGlfa2V5PSR7XG4gICAgICAgIHRoaXMuYXBpa2V5XG4gICAgICB9Jmxhbmd1YWdlPWVuLVVTJnNvcnRfYnk9cG9wdWxhcml0eS5kZXNjJmluY2x1ZGVfYWR1bHQ9ZmFsc2UmcXVlcnk9JHt1c2VyVGV4dH1gXG4gICAgKTtcblxuICAgIGNvbnN0IHNlYXJjaFNlcmllc0NhdGFsb2d1ZVJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL3R2P2FwaV9rZXk9JHtcbiAgICAgICAgdGhpcy5hcGlrZXlcbiAgICAgIH0mbGFuZ3VhZ2U9ZW4tVVMmc29ydF9ieT1wb3B1bGFyaXR5LmRlc2MmaW5jbHVkZV9hZHVsdD1mYWxzZSZxdWVyeT0ke3VzZXJUZXh0fWBcbiAgICApO1xuXG4gICAgY29uc3Qgc2VhcmNoTW92aWVDYXRhbG9ndWVJbmZvID0gYXdhaXQgc2VhcmNoTW92aWVDYXRhbG9ndWVSZXMuanNvbigpO1xuICAgIGNvbnN0IHNlYXJjaFNlcmllc0NhdGFsb2d1ZUluZm8gPSBhd2FpdCBzZWFyY2hTZXJpZXNDYXRhbG9ndWVSZXMuanNvbigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNlYXJjaE1vdmllQ2F0YWxvZ3VlSW5mbyxcbiAgICAgIHNlYXJjaFNlcmllc0NhdGFsb2d1ZUluZm9cbiAgICB9O1xuICB9XG5cbiAgLy8hIEdFVCBNT1ZJRSBBTkQgU0VSSUVTIEFORCBDUkVESVRTIEJZIElEICA8PDw8IE1PREFMID4+Pj4+XG4gIGFzeW5jIHNlYXJjaE1vdmllSWQoY2xpY2tJZCkge1xuICAgIGNvbnN0IG1vdmllRGV0YWlsc1JlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHtjbGlja0lkfT9hcGlfa2V5PSR7XG4gICAgICAgIHRoaXMuYXBpa2V5XG4gICAgICB9Jmxhbmd1YWdlPWVuLVVTJmFwcGVuZF90b19yZXNwb25zZT12aWRlb3Msc2ltaWxhcmBcbiAgICApO1xuXG4gICAgY29uc3QgbW92aWVDYXN0UmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke2NsaWNrSWR9L2NyZWRpdHM/YXBpX2tleT0ke1xuICAgICAgICB0aGlzLmFwaWtleVxuICAgICAgfSZsYW5ndWFnZT1lbi1VU2BcbiAgICApO1xuXG4gICAgY29uc3QgbW92aWVEZXRhaWxzSW5mbyA9IGF3YWl0IG1vdmllRGV0YWlsc1Jlcy5qc29uKCk7XG4gICAgY29uc3QgbW92aWVDYXN0SW5mbyA9IGF3YWl0IG1vdmllQ2FzdFJlcy5qc29uKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbW92aWVEZXRhaWxzSW5mbyxcbiAgICAgIG1vdmllQ2FzdEluZm9cbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgc2VhcmNoU2VyaWVJZChjbGlja0lkKSB7XG4gICAgY29uc3Qgc2VyaWVEZXRhaWxzUmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke2NsaWNrSWR9P2FwaV9rZXk9JHtcbiAgICAgICAgdGhpcy5hcGlrZXlcbiAgICAgIH0mbGFuZ3VhZ2U9ZW4tVVMmYXBwZW5kX3RvX3Jlc3BvbnNlPXZpZGVvcyxzaW1pbGFyLGNyZWRpdHNgXG4gICAgKTtcblxuICAgIGNvbnN0IHNlcmllRGV0YWlsc0luZm8gPSBhd2FpdCBzZXJpZURldGFpbHNSZXMuanNvbigpO1xuICAgIHJldHVybiBzZXJpZURldGFpbHNJbmZvO1xuICB9XG5cbiAgLy8hIEdFVCBUSEUgR0VOUkVTXG4gIGFzeW5jIGdlbnJlTGlzdE1vdmllcygpIHtcbiAgICBjb25zdCBnZW5yZUxpc3RNb3ZpZXNSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2dlbnJlL21vdmllL2xpc3Q/YXBpX2tleT1mZGRlODU1Y2Q0YjA0N2ZiMWEwZWEyNGE3ZWM1ODM2MiZsYW5ndWFnZT1lbi1VU2BcbiAgICApO1xuXG4gICAgY29uc3QgZ2VucmVMaXN0TW92aWVzSW5mbyA9IGF3YWl0IGdlbnJlTGlzdE1vdmllc1Jlcy5qc29uKCk7XG4gICAgcmV0dXJuIGdlbnJlTGlzdE1vdmllc0luZm87XG4gIH1cblxuICBhc3luYyBnZW5yZUxpc3RTZXJpZXMoKSB7XG4gICAgY29uc3QgZ2VucmVMaXN0U2VyaWVzUmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9nZW5yZS90di9saXN0P2FwaV9rZXk9ZmRkZTg1NWNkNGIwNDdmYjFhMGVhMjRhN2VjNTgzNjImbGFuZ3VhZ2U9ZW4tVVNgXG4gICAgKTtcblxuICAgIGNvbnN0IGdlbnJlTGlzdFNlcmllc0luZm8gPSBhd2FpdCBnZW5yZUxpc3RTZXJpZXNSZXMuanNvbigpO1xuICAgIHJldHVybiBnZW5yZUxpc3RTZXJpZXNJbmZvO1xuICB9XG5cbiAgLy8hIE1PVklFUyBBTkQgU0VSSUVTIEJZIEdFTlJFXG4gIGFzeW5jIG1vdmllR2VucmUocGFnZSwgZ2VucmVJZCkge1xuICAgIGNvbnN0IG1vdmllR2VucmVSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtcbiAgICAgICAgdGhpcy5hcGlrZXlcbiAgICAgIH0mbGFuZ3VhZ2U9ZW4tVVMmc29ydF9ieT1wb3B1bGFyaXR5LmRlc2MmaW5jbHVkZV9hZHVsdD1mYWxzZSZpbmNsdWRlX3ZpZGVvPWZhbHNlJnBhZ2U9JHtwYWdlfSZ3aXRoX2dlbnJlcz0ke2dlbnJlSWR9YFxuICAgICk7XG5cbiAgICBjb25zdCBtb3ZpZUdlbnJlSW5mbyA9IGF3YWl0IG1vdmllR2VucmVSZXMuanNvbigpO1xuICAgIHJldHVybiBtb3ZpZUdlbnJlSW5mbztcbiAgfVxuXG4gIGFzeW5jIHNlcmllR2VucmUocGFnZSwgZ2VucmVJZCkge1xuICAgIGNvbnN0IHNlcmllR2VucmVSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL3R2P2FwaV9rZXk9JHtcbiAgICAgICAgdGhpcy5hcGlrZXlcbiAgICAgIH0mbGFuZ3VhZ2U9ZW4tVVMmc29ydF9ieT1wb3B1bGFyaXR5LmRlc2MmcGFnZT0ke3BhZ2V9JndpdGhfZ2VucmVzPSR7Z2VucmVJZH1gXG4gICAgKTtcblxuICAgIGNvbnN0IHNlcmllR2VucmVJbmZvID0gYXdhaXQgc2VyaWVHZW5yZVJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHNlcmllR2VucmVJbmZvO1xuICB9XG5cbiAgLy8hIEFDVE9SIERFVEFJTFNcbiAgYXN5bmMgZ2V0QWN0b3JzKGFjdG9ySWQpIHtcbiAgICBjb25zdCBnZXRBY3RvcnNSZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3BlcnNvbi8ke2FjdG9ySWR9P2FwaV9rZXk9ZmRkZTg1NWNkNGIwNDdmYjFhMGVhMjRhN2VjNTgzNjImbGFuZ3VhZ2U9ZW4tVVMmYXBwZW5kX3RvX3Jlc3BvbnNlPWNvbWJpbmVkX2NyZWRpdHMsZXh0ZXJuYWxfaWRzLGltYWdlc2BcbiAgICApO1xuXG4gICAgY29uc3QgZ2V0QWN0b3JzSW5mbyA9IGF3YWl0IGdldEFjdG9yc1Jlcy5qc29uKCk7XG4gICAgcmV0dXJuIGdldEFjdG9yc0luZm87XG4gIH1cbn1cbiIsImNsYXNzIFVJIHtcbiAgLy8hIFRPUCBSQVRFRCBTRUNUSU9OXG4gIHByaW50TW92aWVzKHRvcE1vdmllc1Jlcykge1xuICAgIGxldCBvdXRwdXQgPSAnJztcblxuICAgIGNvbnN0IHRvcE1vdmllcyA9IHRvcE1vdmllc1Jlcy5yZXN1bHRzO1xuICAgIGNvbnN0IGZpbHRlcmVkTW92aWVzID0gdG9wTW92aWVzLnJlZHVjZShcbiAgICAgIChhY2MsIG1vdmllKSA9PiB7XG4gICAgICAgIGlmIChtb3ZpZS5iYWNrZHJvcF9wYXRoID09IG51bGwpIHtcbiAgICAgICAgICBtb3ZpZS5yZWplY3Rpb25SZWFzb24gPSAnbm8gYmFja2Ryb3AnO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2gobW92aWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdmllLnBvc3Rlcl9wYXRoID09IG51bGwpIHtcbiAgICAgICAgICBtb3ZpZS5yZWplY3Rpb25SZWFzb24gPSAnbm8gcGhvdG8nO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2gobW92aWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdmllLnBvcHVsYXJpdHkgPCA0KSB7XG4gICAgICAgICAgbW92aWUucmVqZWN0aW9uUmVhc29uID0gJ2JhZCByYXRpbmcnO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2gobW92aWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjLm1hdGNoZXMucHVzaChtb3ZpZSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAgeyBtYXRjaGVzOiBbXSwgcmVqZWN0czogW10gfVxuICAgICk7XG5cbiAgICBmaWx0ZXJlZE1vdmllcy5tYXRjaGVzLmZvckVhY2gobW92aWUgPT4ge1xuICAgICAgbGV0IGltZyA9IG1vdmllLnBvc3Rlcl9wYXRoO1xuICAgICAgY29uc3QgdGl0bGUgPSBtb3ZpZS50aXRsZTtcbiAgICAgIGNvbnN0IGRhdGUgPSBtb3ZpZS5yZWxlYXNlX2RhdGUuc3Vic3RyaW5nKDAsIDQpO1xuICAgICAgY29uc3Qgdm90ZXMgPSBtb3ZpZS52b3RlX2F2ZXJhZ2U7XG4gICAgICBjb25zdCBpZCA9IG1vdmllLmlkO1xuXG4gICAgICBvdXRwdXQgPSBgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1pdGVtIGNvbC02IGNvbC1zbS00IGNvbC1tZC0zIGNvbC1sZy0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQtaXRlbS1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzUwMC8ke2ltZ31cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIiR7aWR9XCIgY2xhc3M9XCJvdmVybGF5XCIgZGF0YS1pZD1cIm1vdmllXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnYWxsLXRleHQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD1cIiR7aWR9XCIgY2xhc3M9XCJjb250ZW50LXRpdGxlXCIgZGF0YS1pZD1cIm1vdmllXCI+JHt0aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCIke2lkfVwiIGRhdGEtaWQ9XCJtb3ZpZVwiPjxpIGNsYXNzPVwiZmFzIGZhLWhlYXJ0IGZhLXNtXCI+PC9pPiAke3ZvdGVzfSBoZWFydHM8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiJHtpZH1cIiBkYXRhLWlkPVwibW92aWVcIj4ke2RhdGV9PC9zcGFuPiAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCArPSBvdXRwdXQ7XG4gICAgfSk7XG4gIH1cblxuICBwcmludFNlcmllcyh0b3BTZXJpZXNSZXMpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBjb25zdCB0b3BTZXJpZXMgPSB0b3BTZXJpZXNSZXMucmVzdWx0cztcbiAgICBjb25zdCBmaWx0ZXJlZFNlcmllcyA9IHRvcFNlcmllcy5yZWR1Y2UoXG4gICAgICAoYWNjLCBzZXJpZSkgPT4ge1xuICAgICAgICBpZiAoc2VyaWUuYmFja2Ryb3BfcGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgc2VyaWUucmVqZWN0aW9uUmVhc29uID0gJ25vIGJhY2tkcm9wJztcbiAgICAgICAgICBhY2MucmVqZWN0cy5wdXNoKHNlcmllKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXJpZS5wb3N0ZXJfcGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgc2VyaWUucmVqZWN0aW9uUmVhc29uID0gJ25vIHBob3RvJztcbiAgICAgICAgICBhY2MucmVqZWN0cy5wdXNoKHNlcmllKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXJpZS5wb3B1bGFyaXR5IDwgNCkge1xuICAgICAgICAgIHNlcmllLnJlamVjdGlvblJlYXNvbiA9ICdiYWQgcmF0aW5nJztcbiAgICAgICAgICBhY2MucmVqZWN0cy5wdXNoKHNlcmllKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjYy5tYXRjaGVzLnB1c2goc2VyaWUpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIHsgbWF0Y2hlczogW10sIHJlamVjdHM6IFtdIH1cbiAgICApO1xuXG4gICAgZmlsdGVyZWRTZXJpZXMubWF0Y2hlcy5mb3JFYWNoKHNlcmllID0+IHtcbiAgICAgIGxldCBpbWcgPSBzZXJpZS5wb3N0ZXJfcGF0aDtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZXJpZS5uYW1lO1xuICAgICAgY29uc3QgZGF0ZSA9IHNlcmllLmZpcnN0X2Fpcl9kYXRlLnN1YnN0cmluZygwLCA0KTtcbiAgICAgIGNvbnN0IHZvdGVzID0gc2VyaWUudm90ZV9hdmVyYWdlO1xuICAgICAgY29uc3QgaWQgPSBzZXJpZS5pZDtcblxuICAgICAgb3V0cHV0ID0gYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1pdGVtIGNvbC02IGNvbC1zbS00IGNvbC1tZC0zIGNvbC1sZy0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1pdGVtLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3c1MDAvJHtpbWd9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIiR7aWR9XCIgY2xhc3M9XCJvdmVybGF5XCIgZGF0YS1pZD1cInNlcmllXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnYWxsLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD1cIiR7aWR9XCIgY2xhc3M9XCJjb250ZW50LXRpdGxlXCIgZGF0YS1pZD1cInNlcmllXCI+JHtuYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cIiR7aWR9XCIgZGF0YS1pZD1cInNlcmllXCI+PGkgY2xhc3M9XCJmYXMgZmEtaGVhcnQgZmEtc21cIj48L2k+ICR7dm90ZXN9IGhlYXJ0czxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCIke2lkfVwiIGRhdGEtaWQ9XCJzZXJpZVwiPiR7ZGF0ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGA7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCArPSBvdXRwdXQ7XG4gICAgfSk7XG4gIH1cblxuICAvLyEgU0VBUkNIIFNFQ1RJT05cbiAgcHJpbnRTZWFyY2hDYXQoc2VhcmNoQ2F0YWxvZ3VlUmVzKSB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuXG4gICAgY29uc3Qgc2VhcmNoUXVlcnlNb3ZpZSA9XG4gICAgICBzZWFyY2hDYXRhbG9ndWVSZXMuc2VhcmNoTW92aWVDYXRhbG9ndWVJbmZvLnJlc3VsdHM7XG4gICAgY29uc3QgZmlsdGVyZWRNb3ZpZXMgPSBzZWFyY2hRdWVyeU1vdmllLnJlZHVjZShcbiAgICAgIChhY2MsIG1vdmllKSA9PiB7XG4gICAgICAgIGlmIChtb3ZpZS5iYWNrZHJvcF9wYXRoID09IG51bGwpIHtcbiAgICAgICAgICBtb3ZpZS5yZWplY3Rpb25SZWFzb24gPSAnbm8gYmFja2Ryb3AnO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2gobW92aWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdmllLnBvc3Rlcl9wYXRoID09IG51bGwpIHtcbiAgICAgICAgICBtb3ZpZS5yZWplY3Rpb25SZWFzb24gPSAnbm8gcGhvdG8nO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2gobW92aWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdmllLnBvcHVsYXJpdHkgPCA0KSB7XG4gICAgICAgICAgbW92aWUucmVqZWN0aW9uUmVhc29uID0gJ2JhZCByYXRpbmcnO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2gobW92aWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjLm1hdGNoZXMucHVzaChtb3ZpZSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAgeyBtYXRjaGVzOiBbXSwgcmVqZWN0czogW10gfVxuICAgICk7XG5cbiAgICBmaWx0ZXJlZE1vdmllcy5tYXRjaGVzLmZvckVhY2gobW92aWUgPT4ge1xuICAgICAgY29uc3QgaW1nID0gbW92aWUucG9zdGVyX3BhdGg7XG4gICAgICBjb25zdCB0aXRsZSA9IG1vdmllLnRpdGxlO1xuICAgICAgY29uc3QgZGF0ZSA9IG1vdmllLnJlbGVhc2VfZGF0ZS5zdWJzdHJpbmcoMCwgNCk7XG4gICAgICBjb25zdCB2b3RlcyA9IG1vdmllLnZvdGVfYXZlcmFnZTtcbiAgICAgIGNvbnN0IGlkID0gbW92aWUuaWQ7XG5cbiAgICAgIG91dHB1dCArPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLWl0ZW0gY29sLTYgY29sLXNtLTQgY29sLW1kLTMgY29sLWxnLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLWl0ZW0tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzUwMC8ke2ltZ31cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiJHtpZH1cIiBjbGFzcz1cIm92ZXJsYXlcIiBkYXRhLWlkPVwibW92aWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdhbGwtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGlkPVwiJHtpZH1cIiBjbGFzcz1cImNvbnRlbnQtdGl0bGVcIiBkYXRhLWlkPVwibW92aWVcIj4ke3RpdGxlfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cIiR7aWR9XCIgZGF0YS1pZD1cIm1vdmllXCI+PGkgY2xhc3M9XCJmYXMgZmEtaGVhcnQgZmEtc21cIj48L2k+ICR7dm90ZXN9IGhlYXJ0czxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCIke2lkfVwiIGRhdGEtaWQ9XCJtb3ZpZVwiPiR7ZGF0ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgICBcbiAgICAgICAgICAgICAgICBgO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKS5pbm5lckhUTUwgPSBvdXRwdXQ7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzZWFyY2hRdWVyeVNlcmllID1cbiAgICAgIHNlYXJjaENhdGFsb2d1ZVJlcy5zZWFyY2hTZXJpZXNDYXRhbG9ndWVJbmZvLnJlc3VsdHM7XG4gICAgY29uc3QgZmlsdGVyZWRTZXJpZXMgPSBzZWFyY2hRdWVyeVNlcmllLnJlZHVjZShcbiAgICAgIChhY2MsIHNlcmllKSA9PiB7XG4gICAgICAgIGlmIChzZXJpZS5iYWNrZHJvcF9wYXRoID09IG51bGwpIHtcbiAgICAgICAgICBzZXJpZS5yZWplY3Rpb25SZWFzb24gPSAnbm8gYmFja2Ryb3AnO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2goc2VyaWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcmllLnBvc3Rlcl9wYXRoID09IG51bGwpIHtcbiAgICAgICAgICBzZXJpZS5yZWplY3Rpb25SZWFzb24gPSAnbm8gcGhvdG8nO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2goc2VyaWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcmllLnBvcHVsYXJpdHkgPCA0KSB7XG4gICAgICAgICAgc2VyaWUucmVqZWN0aW9uUmVhc29uID0gJ2JhZCByYXRpbmcnO1xuICAgICAgICAgIGFjYy5yZWplY3RzLnB1c2goc2VyaWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjLm1hdGNoZXMucHVzaChzZXJpZSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAgeyBtYXRjaGVzOiBbXSwgcmVqZWN0czogW10gfVxuICAgICk7XG5cbiAgICBmaWx0ZXJlZFNlcmllcy5tYXRjaGVzLmZvckVhY2goc2VyaWUgPT4ge1xuICAgICAgY29uc3QgaW1nID0gc2VyaWUucG9zdGVyX3BhdGg7XG4gICAgICBjb25zdCBuYW1lID0gc2VyaWUubmFtZTtcbiAgICAgIGNvbnN0IGRhdGUgPSBzZXJpZS5maXJzdF9haXJfZGF0ZS5zdWJzdHJpbmcoMCwgNCk7XG4gICAgICBjb25zdCB2b3RlcyA9IHNlcmllLnZvdGVfYXZlcmFnZTtcbiAgICAgIGNvbnN0IGlkID0gc2VyaWUuaWQ7XG5cbiAgICAgIG91dHB1dCArPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLWl0ZW0gY29sLTYgY29sLXNtLTQgY29sLW1kLTMgY29sLWxnLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1pdGVtLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwLyR7aW1nfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiJHtpZH1cIiBjbGFzcz1cIm92ZXJsYXlcIiBkYXRhLWlkPVwic2VyaWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnYWxsLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgaWQ9XCIke2lkfVwiIGNsYXNzPVwiY29udGVudC10aXRsZVwiIGRhdGEtaWQ9XCJzZXJpZVwiPiR7bmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiJHtpZH1cIiBkYXRhLWlkPVwic2VyaWVcIj48aSBjbGFzcz1cImZhcyBmYS1oZWFydCBmYS1zbVwiPjwvaT4gJHt2b3Rlc30gaGVhcnRzPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiJHtpZH1cIiBkYXRhLWlkPVwic2VyaWVcIj4ke2RhdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICAgXG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCA9IG91dHB1dDtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIC8vISBNT0RBTCBTRUNUSU9OXG4gIHByaW50TW9kYWxNb3ZpZShzZWFyY2hNb3ZpZUlkUmVzKSB7XG4gICAgLy9wcmV2ZW50IHNjcm9sbGluZyB1bmRlciB0aGUgbW9kYWxcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgIC8vc2hvcnRjdXQgZmluZCBjYXN0XG4gICAgY29uc3QgY2FzdEluZm8gPSBzZWFyY2hNb3ZpZUlkUmVzLm1vdmllQ2FzdEluZm87XG4gICAgLy8gZ2V0IG9ubHkgdGhlIGZpcnN0IDEwIGFjdG9yc1xuICAgIGNvbnN0IGNhc3QgPSBjYXN0SW5mby5jYXN0LnNsaWNlKDAsIDEwKTtcblxuICAgIC8vbG9vcCB0aHJvdWdoIHRoZSBjYXN0IGFuZCBvdXRwdXQgaXQgYXMgb25lIHN0cmluZ1xuICAgIGxldCBhY3RvcnMgPSAnJztcbiAgICBjYXN0LmZvckVhY2goY2FzdCA9PiB7XG4gICAgICBhY3RvcnMgKz0gYFxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiIyFcIiBjbGFzcz1cImFjdG9yXCIgZGF0YS1hY3Rvcj1cIiR7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzdC5pZFxuICAgICAgICAgICAgICAgICAgICB9XCIgb25jbGljaz1cInByaW50QWN0b3IoZXZlbnQpXCI+JHtjYXN0Lm5hbWV9PC9hPlxuICAgICAgICAgICAgICAgIGA7XG4gICAgfSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggdGhlIGdlbnJlcyBhbmQgcHJpbnQgaW5kaXZpZHVhbHlcbiAgICBjb25zdCBnZXRHZW5yZSA9IHNlYXJjaE1vdmllSWRSZXMubW92aWVEZXRhaWxzSW5mby5nZW5yZXM7XG4gICAgbGV0IGdlbnJlcyA9ICcnO1xuXG4gICAgZ2V0R2VucmUuZm9yRWFjaChnZW5yZSA9PiB7XG4gICAgICBnZW5yZXMgKz0gYFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtcGlsbCBiYWRnZS1saWdodFwiPiR7Z2VucmUubmFtZX08L3NwYW4+IFxuICAgICAgICAgICAgYDtcbiAgICB9KTtcblxuICAgIC8vc2hvcnRjdXQgZmluZCBtb3ZpZSBkZXRhaWxzXG4gICAgY29uc3QgbW92aWVJbmZvID0gc2VhcmNoTW92aWVJZFJlcy5tb3ZpZURldGFpbHNJbmZvO1xuXG4gICAgY29uc3QgYkRyb3AgPSBtb3ZpZUluZm8uYmFja2Ryb3BfcGF0aCxcbiAgICAgIGJ1ZGdldCA9IG1vdmllSW5mby5idWRnZXQsXG4gICAgICBzaXRlID0gbW92aWVJbmZvLmhvbWVwYWdlLFxuICAgICAgaW1kYiA9IG1vdmllSW5mby5pbWRiX2lkLFxuICAgICAgbGFuZyA9IG1vdmllSW5mby5vcmlnaW5hbF9sYW5ndWFnZSxcbiAgICAgIHRpdGxlID0gbW92aWVJbmZvLnRpdGxlLFxuICAgICAgb3ZlcnZpZXcgPSBtb3ZpZUluZm8ub3ZlcnZpZXcsXG4gICAgICBwb3AgPSBtb3ZpZUluZm8ucG9wdWxhcml0eSxcbiAgICAgIGltZyA9IG1vdmllSW5mby5wb3N0ZXJfcGF0aCxcbiAgICAgIGRhdGUgPSBtb3ZpZUluZm8ucmVsZWFzZV9kYXRlLnN1YnN0cmluZygwLCA0KSxcbiAgICAgIHJ1biA9IG1vdmllSW5mby5ydW50aW1lLFxuICAgICAgdGFnID0gbW92aWVJbmZvLnRhZ2xpbmUsXG4gICAgICB2b3RlcyA9IG1vdmllSW5mby52b3RlX2F2ZXJhZ2U7XG5cbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBvdXRwdXQgPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJteU1vZGFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS10aW1lcy1jaXJjbGVcIiBpZD1cImNsb3NlLW1vZGFsXCIgb25jbGljaz1cImNsb3NlTW9kYWwoKVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwOi8vd3d3LmltZGIuY29tL3RpdGxlLyR7aW1kYn1cIiB0YXJnZXQ9XCJfYmxhbmtcIj48aSBjbGFzcz1cImZhYiBmYS1pbWRiXCI+PC9pPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwOi8vd3d3LmFtYXpvbi5jb20vcy9yZWY9bmJfc3NfZD90YWc9Y2hyaXNjb3lpZXItMjAmdXJsPXNlYXJjaC1hbGlhcyUzRGR2ZCZmaWVsZC1rZXl3b3Jkcz0ke3RpdGxlfVwiIHRhcmdldD1cIl9ibGFua1wiPjxpIGNsYXNzPVwiZmFiIGZhLWFtYXpvblwiPjwvaT48L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL3d3dy5uZXRmbGl4LmNvbS9TZWFyY2g/bG5rY3RyPXNyY2hyZC1pcHMmdjE9JHt0aXRsZX1cIiB0YXJnZXQ9XCJfYmxhbmtcIj48c3BhbiBjbGFzcz1cImljb24tbmV0ZmxpeFwiPjwvc3Bhbj48L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtzaXRlfVwiIHRhcmdldD1cIl9ibGFua1wiPjxpIGNsYXNzPVwiZmFzIGZhLWdsb2JlXCI+PC9pPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPiR7dGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiPiR7dGFnfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtOCBtbC1hdXRvIHRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm92ZXJ2aWV3XCI+PHNwYW4+T3ZlcnZpZXc6PC9zcGFuPiAke292ZXJ2aWV3fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC02IG1sLWF1dG8gdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiYWN0b3JzXCI+PHNwYW4+Q2FzdDo8L3NwYW4+ICR7YWN0b3JzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGggPj0gMzc2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgPGRpdiBjbGFzcz1cImNvbC1tZC01IG1sLWF1dG8gbGlzdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSB0aXRsZVwiPk1vdmllIEluZm86PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbWwtNVwiPjxwPkxhbmd1YWdlOiA8c3Bhbj4ke2xhbmd9PC9zcGFuPjwvcD48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBtbC01XCI+PHA+UmVsZWFzZSBEYXRlOiA8c3Bhbj4ke2RhdGV9PC9zcGFuPjwvcD48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBtbC01XCI+PHA+UnVudGltZTogPHNwYW4+JHtydW59PC9zcGFuPiBtaW51dGVzPC9wPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIG1sLTVcIj48cD5Qb3B1bGFyaXR5OiA8c3Bhbj48aSBjbGFzcz1cImZhcyBmYS1oZWFydCBmYS1zbVwiPjwvaT4gJHt2b3Rlc308L3NwYW4+IHZvdGVzICgke3BvcH0pPC9wPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIG1sLTVcIj48cD5CdWRnZXQ6ICQ8c3Bhbj4ke2J1ZGdldH08L3NwYW4+PC9wPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTUgbWwtYXV0byBnZW5yZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWwtNVwiPiR7Z2VucmVzfTwvZGl2PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaE1vdmllSWRSZXMubW92aWVEZXRhaWxzSW5mby52aWRlb3MucmVzdWx0cyA8IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImNvbC1tZC01IG1sLWF1dG8gZ2VucmVzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLWxpZ2h0IHRyYWlsZXItYnRuXCIgb25jbGljaz1cIm9wZW5WaWRlbygpXCI+VHJhaWxlcjwvYnV0dG9uPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIG14LWF1dG8gdmlkZW8tY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpZnJhbWUgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZpZUluZm8udmlkZW9zLnJlc3VsdHNbMF0ua2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0/ZW5hYmxlanNhcGk9MSZmcz0wJml2X2xvYWRfcG9saWN5PTMmcmVsPTAmc2hvd2luZm89MFwiIGlkPVwidHJhaWxlci1wbGF5ZXJcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4gY2xhc3M9XCJ2aWRlb1wiPjwvaWZyYW1lPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gYFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW92aWVJZFJlcy5tb3ZpZURldGFpbHNJbmZvLnNpbWlsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlc3VsdHMgPCAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm14LWF1dG8gY29sLW1kLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWxpZ2h0IHNpbWlsYXItYnRuXCIgb25jbGljaz1cInVpLm9wZW5TaW1pbGFyKClcIj4gU2ltaWxhcjwvYnV0dG9uPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIGNhcm91c2VsLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpbnQtc2xpY2tcIiBvbmNsaWNrPVwicHJpbnRTaW1pbGFyKGV2ZW50KVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGA7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRhaW5lcicpLmlubmVySFRNTCA9IG91dHB1dDtcblxuICAgIC8vIHNldCBiYWNrZ3JvdW5kIGluIENTU1xuICAgIGNvbnN0IG1vZGFsQmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXlNb2RhbCcpO1xuICAgIG1vZGFsQmcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYGxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgwLDAsMCwxKSAwJSxyZ2JhKDAsMCwwLDEpIDE1JSxyZ2JhKDI1NSwyNTUsMjU1LC4xNSkgMTUlLHJnYmEoMCwwLDAsMCkgNDAlLHJnYmEoMCwwLDAsMC43NSkgNDAlLHJnYmEoMCwwLDAsMC43NSkgMTAwJSksIHVybChodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MTI4MC8ke2JEcm9wfSlgO1xuXG4gICAgLy8gVGVsbCB5b3V0dWJlIEFQSSB0byBsb2FkIHBsYXllclxuICAgIGxvYWRZVHBsYXllcigpO1xuICB9XG5cbiAgcHJpbnRNb2RhbFNlcmllKHNlYXJjaFNlcmllSWRSZXMpIHtcbiAgICAvL3ByZXZlbnQgc2Nyb2xsaW5nIHVuZGVyIHRoZSBtb2RhbFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gICAgY29uc3QgY2FzdCA9IHNlYXJjaFNlcmllSWRSZXMuY3JlZGl0cy5jYXN0LnNsaWNlKDAsIDEwKTtcblxuICAgIGxldCBhY3RvcnMgPSAnJztcbiAgICBjYXN0LmZvckVhY2goY2FzdCA9PiB7XG4gICAgICBhY3RvcnMgKz0gYFxuICAgICAgICAgICAgPGEgaHJlZj1cIiMhXCIgY2xhc3M9XCJhY3RvclwiIGRhdGEtYWN0b3I9XCIke1xuICAgICAgICAgICAgICBjYXN0LmlkXG4gICAgICAgICAgICB9XCIgb25jbGljaz1cInByaW50QWN0b3IoZXZlbnQpXCI+JHtjYXN0Lm5hbWV9PC9hPlxuICAgICAgICAgICAgYDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGdldENyZWF0b3JzID0gc2VhcmNoU2VyaWVJZFJlcy5jcmVhdGVkX2J5O1xuICAgIGxldCBjcmVhdG9ycyA9ICcnO1xuICAgIGdldENyZWF0b3JzLmZvckVhY2gocGVyc29uID0+IHtcbiAgICAgIGNyZWF0b3JzICs9IHBlcnNvbi5uYW1lICsgJywgJztcbiAgICB9KTtcblxuICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgZ2VucmVzIGFuZCBwcmludCBpbmRpdmlkdWFseVxuICAgIGNvbnN0IGdldEdlbnJlID0gc2VhcmNoU2VyaWVJZFJlcy5nZW5yZXM7XG4gICAgbGV0IGdlbnJlcyA9ICcnO1xuICAgIGdldEdlbnJlLmZvckVhY2goZ2VucmUgPT4ge1xuICAgICAgZ2VucmVzICs9IGBcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXBpbGwgYmFkZ2UtbGlnaHRcIj4ke2dlbnJlLm5hbWV9PC9zcGFuPiBcbiAgICAgICAgICAgIGA7XG4gICAgfSk7XG5cbiAgICBjb25zdCBiRHJvcCA9IHNlYXJjaFNlcmllSWRSZXMuYmFja2Ryb3BfcGF0aCxcbiAgICAgIG5hbWUgPSBzZWFyY2hTZXJpZUlkUmVzLm5hbWUsXG4gICAgICBzaXRlID0gc2VhcmNoU2VyaWVJZFJlcy5ob21lcGFnZSxcbiAgICAgIGxhbmcgPSBzZWFyY2hTZXJpZUlkUmVzLm9yaWdpbmFsX2xhbmd1YWdlLFxuICAgICAgb3ZlcnZpZXcgPSBzZWFyY2hTZXJpZUlkUmVzLm92ZXJ2aWV3LFxuICAgICAgcG9wID0gc2VhcmNoU2VyaWVJZFJlcy5wb3B1bGFyaXR5LFxuICAgICAgdm90ZXMgPSBzZWFyY2hTZXJpZUlkUmVzLnZvdGVfYXZlcmFnZSxcbiAgICAgIGZpcnN0RCA9IHNlYXJjaFNlcmllSWRSZXMuZmlyc3RfYWlyX2RhdGUuc3Vic3RyaW5nKDAsIDQpLFxuICAgICAgbGFzdEQgPSBzZWFyY2hTZXJpZUlkUmVzLmxhc3RfYWlyX2RhdGUsXG4gICAgICBpZCA9IHNlYXJjaFNlcmllSWRSZXMuaWQ7XG5cbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBvdXRwdXQgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXlNb2RhbFwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtdGltZXMtY2lyY2xlXCIgaWQ9XCJjbG9zZS1tb2RhbFwiIG9uY2xpY2s9XCJjbG9zZU1vZGFsKClcIj48L2k+XG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL3d3dy5pbWRiLmNvbS9maW5kP3M9dHQmcT0ke25hbWV9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGkgY2xhc3M9XCJmYWIgZmEtaW1kYlwiPjwvaT48L2E+XG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL3d3dy5hbWF6b24uY29tL3MvcmVmPW5iX3NzX2Q/dGFnPWNocmlzY295aWVyLTIwJnVybD1zZWFyY2gtYWxpYXMlM0RkdmQmZmllbGQta2V5d29yZHM9JHtuYW1lfVwiIHRhcmdldD1cIl9ibGFua1wiPjxpIGNsYXNzPVwiZmFiIGZhLWFtYXpvblwiPjwvaT48L2E+XG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL3d3dy5uZXRmbGl4LmNvbS9TZWFyY2g/bG5rY3RyPXNyY2hyZC1pcHMmdjE9JHtuYW1lfVwiIHRhcmdldD1cIl9ibGFua1wiPjxzcGFuIGNsYXNzPVwiaWNvbi1uZXRmbGl4XCI+PC9zcGFuPjwvYT5cbiAgICAgICAgICAgIDxhIGhyZWY9XCIke3NpdGV9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGkgY2xhc3M9XCJmYXMgZmEtZ2xvYmVcIj48L2k+PC9hPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibW9kYWwtdGl0bGVcIj4ke25hbWV9PC9oMj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTggbWwtYXV0byB0ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwib3ZlcnZpZXdcIj48c3Bhbj5PdmVydmlldzo8L3NwYW4+ICR7b3ZlcnZpZXd9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiBtbC1hdXRvIHRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJhY3RvcnNcIj48c3Bhbj5DYXN0Ojwvc3Bhbj4gJHthY3RvcnN9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNSBtbC1hdXRvIGxpc3RcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSB0aXRsZVwiPlNlcmllcyBJbmZvOjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBtbC01XCI+PHA+Q3JlYXRvcnM6IDxzcGFuPiR7Y3JlYXRvcnN9PC9zcGFuPjwvcD48L2xpPlxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbWwtNVwiPjxwPk5ldHdvcms6IDxzcGFuPiR7XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoU2VyaWVJZFJlcy5uZXR3b3Jrc1swXS5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH08L3NwYW4+PC9wPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBtbC01XCI+PHA+TGFuZ3VhZ2U6IDxzcGFuPiR7bGFuZ308L3NwYW4+PC9wPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBtbC01XCI+PHA+U2VyaWVzIFN0YXJ0ZWQ6IDxzcGFuPiR7Zmlyc3REfTwvc3Bhbj4gTGF0ZXN0IEFpciBEYXRlOiA8c3Bhbj4ke2xhc3REfTwvc3Bhbj48L3A+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIG1sLTVcIj48cD5SdW50aW1lOiB+IDxzcGFuPiR7XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoU2VyaWVJZFJlcy5lcGlzb2RlX3J1bl90aW1lWzBdXG4gICAgICAgICAgICAgICAgICAgIH08L3NwYW4+IG1pbnV0ZXM8L3A+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIG1sLTVcIj48cD5Qb3B1bGFyaXR5OiA8c3Bhbj48aSBjbGFzcz1cImZhcyBmYS1oZWFydCBmYS1zbVwiPjwvaT4gJHt2b3Rlc308L3NwYW4+IHZvdGVzICgke3BvcH0pPC9wPjwvbGk+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTUgbWwtYXV0byBnZW5yZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1sLTVcIj4ke2dlbnJlc308L2Rpdj4gXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgIHNlYXJjaFNlcmllSWRSZXMudmlkZW9zLnJlc3VsdHMgPCAxXG4gICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgOiBgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTUgbWwtYXV0byBnZW5yZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLWxpZ2h0IHRyYWlsZXItYnRuXCIgb25jbGljaz1cIm9wZW5WaWRlbygpXCI+VHJhaWxlcjwvYnV0dG9uPiBcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgbXgtYXV0byB2aWRlby1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpZnJhbWUgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoU2VyaWVJZFJlcy52aWRlb3MucmVzdWx0c1swXS5rZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0/ZW5hYmxlanNhcGk9MSZmcz0wJml2X2xvYWRfcG9saWN5PTMmcmVsPTAmc2hvd2luZm89MFwiIGlkPVwidHJhaWxlci1wbGF5ZXJcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4gY2xhc3M9XCJ2aWRlb1wiPjwvaWZyYW1lPiBcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+IGBcbiAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgICAgc2VhcmNoU2VyaWVJZFJlcy5zaW1pbGFyLnJlc3VsdHMgPCAxXG4gICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgOiBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJteC1hdXRvIGNvbC1tZC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tbGlnaHQgc2ltaWxhci1idG5cIiBvbmNsaWNrPVwidWkub3BlblNpbWlsYXIoKVwiPiBTaW1pbGFyPC9idXR0b24+IFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZCBjYXJvdXNlbC1jb250YWluZXJcIiBvbmNsaWNrPVwicHJpbnRTaW1pbGFyKGV2ZW50KVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByaW50LXNsaWNrXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY29udGFpbmVyJykuaW5uZXJIVE1MID0gb3V0cHV0O1xuXG4gICAgLy8gc2V0IGJhY2tncm91bmQgaW4gQ1NTXG4gICAgY29uc3QgbW9kYWxCZ1MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXlNb2RhbCcpO1xuICAgIG1vZGFsQmdTLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHJnYmEoMCwwLDAsMSkgMCUscmdiYSgwLDAsMCwxKSAxNSUscmdiYSgyNTUsMjU1LDI1NSwuMTUpIDE1JSxyZ2JhKDAsMCwwLDApIDQwJSxyZ2JhKDAsMCwwLDAuNzUpIDQwJSxyZ2JhKDAsMCwwLDAuNzUpIDEwMCUpLCB1cmwoaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzEyODAvJHtiRHJvcH0pYDtcblxuICAgIC8vIFRlbGwgeW91dHViZSBBUEkgdG8gbG9hZCBwbGF5ZXJcbiAgICBsb2FkWVRwbGF5ZXIoKTtcbiAgfVxuXG4gIC8vISBTSU1JTEFSXG4gIHByaW50U2ltaWxhck1vdmllcyhzZWFyY2hNb3ZpZUlkUmVzKSB7XG4gICAgbGV0IHBvc3RlciA9ICcnO1xuICAgIHNlYXJjaE1vdmllSWRSZXMubW92aWVEZXRhaWxzSW5mby5zaW1pbGFyLnJlc3VsdHMuZm9yRWFjaChtb3ZpZSA9PiB7XG4gICAgICBwb3N0ZXIgKz0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGljay1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzE1NC8ke1xuICAgICAgICAgICAgICAgICAgICAgIG1vdmllLnBvc3Rlcl9wYXRoXG4gICAgICAgICAgICAgICAgICAgIH1cIiAgaWQ9XCIke21vdmllLmlkfVwiIGRhdGEtaWQ9XCJtb3ZpZVwiIGFsdD1cIlNpbWlsYXJcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJpbnQtc2xpY2snKS5pbm5lckhUTUwgPSBwb3N0ZXI7XG4gIH1cblxuICBwcmludFNpbWlsYXJTZXJpZXMoc2VhcmNoU2VyaWVJZFJlcykge1xuICAgIGxldCBwb3N0ZXIgPSAnJztcbiAgICBzZWFyY2hTZXJpZUlkUmVzLnNpbWlsYXIucmVzdWx0cy5mb3JFYWNoKHNlcmllID0+IHtcbiAgICAgIHBvc3RlciArPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWNrLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MTU0LyR7XG4gICAgICAgICAgICAgICAgICAgICAgc2VyaWUucG9zdGVyX3BhdGhcbiAgICAgICAgICAgICAgICAgICAgfVwiICBpZD1cIiR7c2VyaWUuaWR9XCIgZGF0YS1pZD1cInNlcmllXCIgYWx0PVwiU2ltaWxhclwiPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmludC1zbGljaycpLmlubmVySFRNTCA9IHBvc3RlcjtcbiAgfVxuXG4gIG9wZW5TaW1pbGFyKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaW1pbGFyLWJ0bicpLmNsYXNzTGlzdC50b2dnbGUoJ3NtLWJ0bi1hY3RpdmUnKTtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1jb250YWluZXInKVxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2Nhci1jb250LWFjdGl2ZScpO1xuICB9XG5cbiAgLy8hIENMT1NFIE1PREFMXG4gIGNsZWFyTW9kYWwoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXlNb2RhbCcpO1xuICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGFjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdG9yTW9kYWwnKTtcblxuICAgIGlmICh2aWRlbyAmJiB2aWRlby5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKSB7XG4gICAgICB2aWRlby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgcGxheWVyLnN0b3BWaWRlbygpO1xuICAgIH0gZWxzZSBpZiAoYWN0b3IpIHtcbiAgICAgIGFjdG9yLnJlbW92ZSgpO1xuICAgIH0gZWxzZSBpZiAobW9kYWwpIHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgLy9zZXQgYmFjayB0byBhdXRvXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgfVxuICB9XG5cbiAgLy8hIE5BVkJBUiBTRUNUSU9OXG4gIGNsZWFySW5wdXQoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lubGluZUZvcm1JbnB1dEdyb3VwJykudmFsdWUgPSAnJztcbiAgfVxuXG4gIG5vTW92aWVGb3VuZCgpIHtcbiAgICAvL2NsZWFyIHJlc3VsdHNcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCA9ICcnO1xuXG4gICAgLy9wcmludCBtZXNzYWdlXG4gICAgbGV0IG91dHB1dCA9ICcnO1xuXG4gICAgb3V0cHV0ID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1tb3ZpZS1mb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+V29wcyEgV2UgY291bGRuJ3QgZmluZCB0aGF0ISBUcnkgYW5vdGhlciBvbmUhIDopPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL21lZGlhLmdpcGh5LmNvbS9tZWRpYS8zMjNXOWpHSXNEelVGVXVPdGQvZ2lwaHkuZ2lmXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJykuaW5uZXJIVE1MID0gb3V0cHV0O1xuICB9XG5cbiAgYWN0aXZlTGluayhlKSB7XG4gICAgY29uc3QgbW92aWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmllcycpO1xuICAgIGNvbnN0IHNlcmllcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXJpZXMnKTtcbiAgICBjb25zdCBjbGlja2VkID0gZS50YXJnZXQuaWQ7XG5cbiAgICAvLyBpZiBtb3ZpZXMgaXMgY2xpY2tlZCBhZGQgY2xhc3MgYW5kIHJlbW92ZSBmcm9tIHNlcmllc1xuICAgIGlmIChjbGlja2VkID09PSAnbW92aWVzJykge1xuICAgICAgc2VyaWVzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1saW5rJyk7XG4gICAgICBtb3ZpZXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWxpbmsnKTtcblxuICAgICAgLy9lbHNlIGFkZCBjbGFzcyB0byBzZXJpZXMgYW5kIHJlbW92ZSBmcm9tIG1vdmllc1xuICAgIH0gZWxzZSBpZiAoY2xpY2tlZCA9PT0gJ3NlcmllcycpIHtcbiAgICAgIG1vdmllcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtbGluaycpO1xuICAgICAgc2VyaWVzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1saW5rJyk7XG4gICAgfVxuICB9XG5cbiAgLy8hIFBSSU5UIEJZIEdFTlJFXG4gIHByaW50TW92aWVHZW5yZXMoZ2VucmVMaXN0TW92aWVzUmVzKSB7XG4gICAgY29uc3QgbW92aWVHZW5yZSA9IGdlbnJlTGlzdE1vdmllc1Jlcy5nZW5yZXM7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuXG4gICAgbW92aWVHZW5yZS5mb3JFYWNoKGdlbnJlID0+IHtcbiAgICAgIGNvbnN0IGlkID0gZ2VucmUuaWQ7XG4gICAgICBjb25zdCBuYW1lID0gZ2VucmUubmFtZTtcblxuICAgICAgb3V0cHV0ICs9IGBcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBkYXRhLWdlbnJlPVwiJHtpZH1cIiBocmVmPVwiI1wiPiR7bmFtZX08L2E+XG4gICAgICAgICAgICBgO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLW1lbnUnKS5pbm5lckhUTUwgPSBvdXRwdXQ7XG4gICAgfSk7XG4gIH1cblxuICBwcmludFNlcmllc0dlbnJlcyhnZW5yZUxpc3RTZXJpZXNSZXMpIHtcbiAgICBjb25zdCBzZXJpZUdlbnJlID0gZ2VucmVMaXN0U2VyaWVzUmVzLmdlbnJlcztcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBzZXJpZUdlbnJlLmZvckVhY2goZ2VucmUgPT4ge1xuICAgICAgY29uc3QgaWQgPSBnZW5yZS5pZDtcbiAgICAgIGNvbnN0IG5hbWUgPSBnZW5yZS5uYW1lO1xuXG4gICAgICBvdXRwdXQgKz0gYFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGRhdGEtZ2VucmU9XCIke2lkfVwiIGhyZWY9XCIjXCI+JHtuYW1lfTwvYT5cbiAgICAgICAgICAgIGA7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tbWVudScpLmlubmVySFRNTCA9IG91dHB1dDtcbiAgICB9KTtcbiAgfVxuXG4gIHByaW50TW92aWVCeUdlbnJlKG1vdmllR2VucmVSZXMpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBjb25zdCBtb3ZpZUdlbnJlID0gbW92aWVHZW5yZVJlcy5yZXN1bHRzO1xuICAgIGNvbnN0IGZpbHRlcmVkTW92aWVzID0gbW92aWVHZW5yZS5yZWR1Y2UoXG4gICAgICAoYWNjLCBtb3ZpZSkgPT4ge1xuICAgICAgICBpZiAobW92aWUucG9zdGVyX3BhdGggPT0gbnVsbCkge1xuICAgICAgICAgIG1vdmllLnJlamVjdGlvblJlYXNvbiA9ICdubyBwaG90byc7XG4gICAgICAgICAgYWNjLnJlamVjdHMucHVzaChtb3ZpZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBpZiAobW92aWUucG9wdWxhcml0eSA8IDQpIHtcbiAgICAgICAgICBtb3ZpZS5yZWplY3Rpb25SZWFzb24gPSAnYmFkIHJhdGluZyc7XG4gICAgICAgICAgYWNjLnJlamVjdHMucHVzaChtb3ZpZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2MubWF0Y2hlcy5wdXNoKG1vdmllKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7IG1hdGNoZXM6IFtdLCByZWplY3RzOiBbXSB9XG4gICAgKTtcblxuICAgIGZpbHRlcmVkTW92aWVzLm1hdGNoZXMuZm9yRWFjaChtb3ZpZSA9PiB7XG4gICAgICBsZXQgaW1nID0gbW92aWUucG9zdGVyX3BhdGg7XG4gICAgICBjb25zdCB0aXRsZSA9IG1vdmllLm9yaWdpbmFsX3RpdGxlO1xuICAgICAgY29uc3QgZGF0ZSA9IG1vdmllLnJlbGVhc2VfZGF0ZS5zdWJzdHJpbmcoMCwgNCk7XG4gICAgICBjb25zdCB2b3RlcyA9IG1vdmllLnZvdGVfYXZlcmFnZTtcbiAgICAgIGNvbnN0IGlkID0gbW92aWUuaWQ7XG5cbiAgICAgIG91dHB1dCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLWl0ZW0gY29sLTYgY29sLXNtLTQgY29sLW1kLTMgY29sLWxnLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1pdGVtLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwLyR7aW1nfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiJHtpZH1cIiBjbGFzcz1cIm92ZXJsYXlcIiBkYXRhLWlkPVwibW92aWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdhbGwtdGV4dCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGlkPVwiJHtpZH1cIiBjbGFzcz1cImNvbnRlbnQtdGl0bGVcIiBkYXRhLWlkPVwibW92aWVcIj4ke3RpdGxlfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cIiR7aWR9XCIgZGF0YS1pZD1cIm1vdmllXCI+PGkgY2xhc3M9XCJmYXMgZmEtaGVhcnQgZmEtc21cIj48L2k+ICR7dm90ZXN9IGhlYXJ0czxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCIke2lkfVwiIGRhdGEtaWQ9XCJtb3ZpZVwiPiR7ZGF0ZX08L3NwYW4+ICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpLmlubmVySFRNTCArPSBvdXRwdXQ7XG4gICAgfSk7XG4gIH1cblxuICBwcmludFNlcmllc0J5R2VucmVzKHNlcmllR2VucmVSZXMpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICBjb25zdCBzZXJpZXNHZW5yZSA9IHNlcmllR2VucmVSZXMucmVzdWx0cztcbiAgICBjb25zdCBmaWx0ZXJlZFNlcmllcyA9IHNlcmllc0dlbnJlLnJlZHVjZShcbiAgICAgIChhY2MsIHNlcmllKSA9PiB7XG4gICAgICAgIGlmIChzZXJpZS5wb3N0ZXJfcGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgc2VyaWUucmVqZWN0aW9uUmVhc29uID0gJ25vIHBob3RvJztcbiAgICAgICAgICBhY2MucmVqZWN0cy5wdXNoKHNlcmllKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXJpZS5wb3B1bGFyaXR5IDwgNCkge1xuICAgICAgICAgIHNlcmllLnJlamVjdGlvblJlYXNvbiA9ICdiYWQgcmF0aW5nJztcbiAgICAgICAgICBhY2MucmVqZWN0cy5wdXNoKHNlcmllKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjYy5tYXRjaGVzLnB1c2goc2VyaWUpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIHsgbWF0Y2hlczogW10sIHJlamVjdHM6IFtdIH1cbiAgICApO1xuXG4gICAgZmlsdGVyZWRTZXJpZXMubWF0Y2hlcy5mb3JFYWNoKHNlcmllID0+IHtcbiAgICAgIGxldCBpbWcgPSBzZXJpZS5wb3N0ZXJfcGF0aDtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZXJpZS5uYW1lO1xuICAgICAgY29uc3QgZGF0ZSA9IHNlcmllLmZpcnN0X2Fpcl9kYXRlLnN1YnN0cmluZygwLCA0KTtcbiAgICAgIGNvbnN0IHZvdGVzID0gc2VyaWUudm90ZV9hdmVyYWdlO1xuICAgICAgY29uc3QgaWQgPSBzZXJpZS5pZDtcblxuICAgICAgb3V0cHV0ID0gYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1pdGVtIGNvbC02IGNvbC1zbS00IGNvbC1tZC0zIGNvbC1sZy0yXCIgaWQ9XCJnZW5yZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQtaXRlbS1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwLyR7aW1nfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCIke2lkfVwiIGNsYXNzPVwib3ZlcmxheVwiIGRhdGEtaWQ9XCJzZXJpZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ2FsbC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgaWQ9XCIke2lkfVwiIGNsYXNzPVwiY29udGVudC10aXRsZVwiIGRhdGEtaWQ9XCJzZXJpZVwiPiR7bmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCIke2lkfVwiIGRhdGEtaWQ9XCJzZXJpZVwiPjxpIGNsYXNzPVwiZmFzIGZhLWhlYXJ0IGZhLXNtXCI+PC9pPiAke3ZvdGVzfSBoZWFydHM8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiJHtpZH1cIiBkYXRhLWlkPVwic2VyaWVcIj4ke2RhdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKS5pbm5lckhUTUwgKz0gb3V0cHV0O1xuICAgIH0pO1xuICB9XG5cbiAgLy8hIEFDVE9SUyBQQUdFXG5cbiAgcHJpbnRBY3RvcihnZXRBY3RvclJlcykge1xuICAgIGNvbnNvbGUubG9nKGdldEFjdG9yUmVzKTtcbiAgICAvLyBzcGxpdCBpbnRvIG1vdmllcyBhbmQgc2VyaWVzIGFycmF5XG4gICAgY29uc3QgZmlsdGVyZWRDcmVkaXRzID0gZ2V0QWN0b3JSZXMuY29tYmluZWRfY3JlZGl0cy5jYXN0LnJlZHVjZShcbiAgICAgIChhY2MsIGNyZWRpdCkgPT4ge1xuICAgICAgICBpZiAoY3JlZGl0Lm1lZGlhX3R5cGUgPT0gJ3R2Jykge1xuICAgICAgICAgIGFjYy5zZXJpZXMucHVzaChjcmVkaXQpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjLm1vdmllcy5wdXNoKGNyZWRpdCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAgeyBtb3ZpZXM6IFtdLCBzZXJpZXM6IFtdIH1cbiAgICApO1xuXG4gICAgLy8gcHJpbnQgZWFjaCBjcmVkaXQgZm9yIG1vdmllXG4gICAgbGV0IG1vdmllQ3JlZGl0ID0gJyc7XG4gICAgZmlsdGVyZWRDcmVkaXRzLm1vdmllcy5mb3JFYWNoKGNyZWRpdHMgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSBjcmVkaXRzLnRpdGxlLFxuICAgICAgICB5ZWFyID0gY3JlZGl0cy5yZWxlYXNlX2RhdGUsXG4gICAgICAgIGlkID0gY3JlZGl0cy5pZCxcbiAgICAgICAgcm9sZSA9IGNyZWRpdHMuY2hhcmFjdGVyO1xuXG4gICAgICAvL2lmIG5vIHllYXIgbi9hIGFsc28ga2VlcCBvbmx5IHllYXIgZnJvbSBkYXRlXG4gICAgICBjb25zdCB5ZWFycyA9IHllYXIgPyB5ZWFyLnN1YnN0cmluZygwLCA0KSA6ICduL2EnO1xuXG4gICAgICBtb3ZpZUNyZWRpdCArPSBgXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gY3JlZGl0IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNyLXRpdGxlXCI+JHt0aXRsZX08YnI+PHNwYW4gY2xhc3M9XCJyb2xlXCI+JHtyb2xlfTwvc3Bhbj48L3NwYW4+IFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtbGlnaHQgYmFkZ2UtcGlsbCBiYWRnZS15ZWFyXCI+JHt5ZWFyc308L3NwYW4+XG4gICAgICAgICAgICA8L2xpPiAgICBcbiAgICAgICAgICAgIGA7XG4gICAgfSk7XG5cbiAgICAvLyBwcmludCBlYWNoIGNyZWRpdCBmb3Igc2VyaWVcbiAgICBsZXQgc2VyaWVDcmVkaXQgPSAnJztcbiAgICBmaWx0ZXJlZENyZWRpdHMuc2VyaWVzLmZvckVhY2goY3JlZGl0cyA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gY3JlZGl0cy5uYW1lLFxuICAgICAgICBkYXRlID0gY3JlZGl0cy5maXJzdF9haXJfZGF0ZS5zdWJzdHJpbmcoMCwgNCksXG4gICAgICAgIGlkID0gY3JlZGl0cy5pZCxcbiAgICAgICAgcm9sZSA9IGNyZWRpdHMuY2hhcmFjdGVyO1xuXG4gICAgICBzZXJpZUNyZWRpdCArPSBgXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gY3JlZGl0IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNyLXRpdGxlXCI+JHtuYW1lfTxicj48c3BhbiBjbGFzcz1cInJvbGVcIj4ke3JvbGV9PC9zcGFuPjwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1saWdodCBiYWRnZS1waWxsXCI+JHtkYXRlfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGk+ICAgIFxuICAgICAgICAgICAgYDtcbiAgICB9KTtcblxuICAgIC8vZG9udCBwcmV2ZW50IHNjcm9sbGluZyB1bmRlciB0aGUgbW9kYWxcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY29udGFpbmVyJykuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcblxuICAgIGNvbnN0IGJpbyA9IGdldEFjdG9yUmVzLmJpb2dyYXBoeSxcbiAgICAgIGJEYXkgPSBnZXRBY3RvclJlcy5iaXJ0aGRheSxcbiAgICAgIG5hbWUgPSBnZXRBY3RvclJlcy5uYW1lLFxuICAgICAgaFRvd24gPSBnZXRBY3RvclJlcy5wbGFjZV9vZl9iaXJ0aCxcbiAgICAgIHBpYyA9IGdldEFjdG9yUmVzLnByb2ZpbGVfcGF0aDtcblxuICAgIC8vIHJldmVyc2UgZGF0ZSB0byBFVSBzdHlsZSBhbmQgY2hlY2sgaWYgZXhpc3RzXG4gICAgY29uc3QgZG9iID0gYkRheVxuICAgICAgPyBiRGF5XG4gICAgICAgICAgLnNwbGl0KCctJylcbiAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgLmpvaW4oJy0nKVxuICAgICAgOiAnbi9hJztcblxuICAgIC8vZ2V0IGFjdG9yJ3Mgc29jaWFsIGxpbmtzXG4gICAgbGV0IHNvY2lhbHMgPSAnJztcbiAgICBjb25zdCBzb2NpYWwgPSBnZXRBY3RvclJlcy5leHRlcm5hbF9pZHM7XG4gICAgY29uc3Qgc29jaWFsTGlua3MgPSBbXTtcbiAgICBzb2NpYWxMaW5rcy5wdXNoKHNvY2lhbCk7XG5cbiAgICBzb2NpYWxMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgbGV0IGZiID0gbGluay5mYWNlYm9va19pZDtcbiAgICAgIGxldCBpbnN0YSA9IGxpbmsuaW5zdGFncmFtX2lkO1xuICAgICAgbGV0IHR3aXQgPSBsaW5rLnR3aXR0ZXJfaWQ7XG4gICAgICBsZXQgaW1kYiA9IGxpbmsuaW1kYl9pZDtcblxuICAgICAgc29jaWFscyArPSBgXG4gICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgIGZiXG4gICAgICAgICAgICAgICAgICAgID8gYDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vJHtmYn1cIj48aSBjbGFzcz1cImZhYiBmYS1mYWNlYm9vay1zcXVhcmVcIj48L2k+PC9hPmBcbiAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgICAgaW5zdGFcbiAgICAgICAgICAgICAgICAgICAgPyBgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vJHtpbnN0YX1cIj48aSBjbGFzcz1cImZhYiBmYS1pbnN0YWdyYW1cIj48L2k+PC9hPmBcbiAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgICAgdHdpdFxuICAgICAgICAgICAgICAgICAgICA/IGA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly90d2l0dGVyLmNvbS8ke3R3aXR9XCI+IDxpIGNsYXNzPVwiZmFiIGZhLXR3aXR0ZXItc3F1YXJlXCI+PC9pPjwvYT5gXG4gICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgIGltZGJcbiAgICAgICAgICAgICAgICAgICAgPyBgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LmltZGIuY29tL25hbWUvJHtpbWRifVwiPjxpIGNsYXNzPVwiZmFiIGZhLWltZGJcIj48L2k+PC9hPmBcbiAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgfSk7XG5cbiAgICAvLyBnZXQgYWN0b3IncyBnYWxsZXJ5IHBpY3R1cmVzXG4gICAgbGV0IHBpY3R1cmVzID0gJyc7XG4gICAgY29uc3QgZ2FsbGVyeSA9IGdldEFjdG9yUmVzLmltYWdlcy5wcm9maWxlcztcbiAgICBnYWxsZXJ5LmZvckVhY2gocGljdHVyZSA9PiB7XG4gICAgICBjb25zdCBwaWNzID0gcGljdHVyZS5maWxlX3BhdGg7XG4gICAgICBwaWN0dXJlcyArPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0yIGZvdG8tZ2FsbFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInBvcHVwLXBpY1wiIGhyZWY9XCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NzgwLyR7cGljc31cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJnYWxsZXJ5LWFjdG9yXCIgc3JjPVwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzM0Mi8ke3BpY3N9XCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgfSk7XG5cbiAgICAvL3BpYyBhbmQgcGxhY2Vob2xkZXIgaHRtbCBmb3IgdGVybmVyeVxuICAgIGxldCBhY3RvclBpYyA9IGA8aW1nIGNsYXNzPVwibWFpbi1waWNcIiBzcmM9XCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NzgwLyR7cGljfVwiPmA7XG4gICAgbGV0IHBsYWNlSG9sZCA9IGA8aW1nIGNsYXNzPVwibWFpbi1waWNcIiBzcmM9XCJhc3NldHMvbWVkaWEvaW1hZ2VzL3BvcGNvcm4ucG5nXCI+YDtcblxuICAgIGxldCBvdXRwdXQgPSAnJztcblxuICAgIG91dHB1dCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rvck1vZGFsXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtdGltZXMtY2lyY2xlXCIgaWQ9XCJjbG9zZS1tb2RhbFwiIG9uY2xpY2s9XCJjbG9zZU1vZGFsKClcIj48L2k+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRpdGxlIGZsZXgtY29sXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPiR7bmFtZX0gPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+PHNwYW4+IERPQjogPC9zcGFuPiR7ZG9ifSA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+ICA8c3Bhbj4gUE9COiA8L3NwYW4+ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhUb3duICE9IHVuZGVmaW5lZCA/IGhUb3duIDogJ24vYSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiBhY3Rvci1waWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3BpYyA/IGFjdG9yUGljIDogcGxhY2VIb2xkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic29jaWFsLWljb25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c29jaWFsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkdhbGxlcnk8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IGdhbGxlcnktbWFpblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtwaWN0dXJlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJiaW9cIj48c3Bhbj5PdmVydmlldzo8L3NwYW4+ICR7YmlvfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBleHBhbmQtYnRuXCIgb25jbGljaz1cImV4cGFuZCgpXCI+IE9wZW48L2J1dHRvbj4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPk1vdmllczwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cCBjcmVkaXRzXCI+JHttb3ZpZUNyZWRpdH08L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENyZWRpdHMuc2VyaWVzLmxlbmd0aCA8IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlNlcmllczwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cCBjcmVkaXRzXCI+JHtzZXJpZUNyZWRpdH08L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0b3ItbW9kYWwtY29udGFpbmVyJykuaW5uZXJIVE1MID0gb3V0cHV0O1xuXG4gICAgLy8gc2V0IGJhY2tncm91bmQgaW4gQ1NTXG4gICAgY29uc3QgYWN0b3JCZ1MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0b3JNb2RhbCcpO1xuXG4gICAgLy8gaWYgcGljIGlzIG5vdCBwcmVzZW50IHVzZSBwbGFjZWhvbGRlclxuICAgIC8vIGlmIChwaWMpIHtcbiAgICAvLyAgICAgYWN0b3JCZ1Muc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiYSgwLDAsMCwwKSAwJSxyZ2JhKDAsMCwwLDApIDIxJSxyZ2JhKDAsMCwwLDEpIDQwJSxyZ2JhKDAsMCwwLDEpIDEwMCUpLCB1cmwoaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avdzc4MC8ke3BpY30pYDtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgICBhY3RvckJnUy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDAsMCwwLDApIDAlLHJnYmEoMCwwLDAsMCkgMjElLHJnYmEoMCwwLDAsMSkgNDAlLHJnYmEoMCwwLDAsMSkgMTAwJSksIHVybCgvYXNzZXRzL21lZGlhL2ltYWdlcy9wb3Bjb3JuLnBuZylgO1xuICAgIC8vIH07XG4gIH1cbn1cblxuLy8hIElNUE9SVEFOVFxuXG4vL1RPRE8gLy8vLy8gZml4IGdlbnJlIHBhZ2luYXRpb25cblxuLy8gVE9ETyAvLy8gUkVTUE9OU0lWRVxuIl19
